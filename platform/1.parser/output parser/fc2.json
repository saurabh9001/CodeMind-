{
  "summary": {
    "total_methods": 294,
    "total_classes": 14,
    "total_method_calls": 382,
    "external_api_calls": 0,
    "database_operations": 0,
    "scheduled_tasks": 0,
    "methods_with_source": 66,
    "classes_with_source": 14
  },
  "methods": {
    "DiseaseSummaryData.getTabularData": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public DiseaseSummaryMap getTabularData() {\n        return tabularData;\n    }",
        "annotations": [],
        "signature": "public DiseaseSummaryMap getTabularData() {",
        "start_line": 15,
        "end_line": 17,
        "lines_of_code": 3
      }
    },
    "DiseaseSummaryData.setTabularData": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public void setTabularData(DiseaseSummaryMap tabularData) {\n        this.tabularData = tabularData;\n    }",
        "annotations": [],
        "signature": "public void setTabularData(DiseaseSummaryMap tabularData) {",
        "start_line": 19,
        "end_line": 21,
        "lines_of_code": 3
      }
    },
    "DiseaseSummaryData.addTabularData": {
      "calls": [
        {
          "target": "newTable.keySet",
          "object": "newTable",
          "method": "keySet",
          "type": "instance_call"
        },
        {
          "target": "tabularData.toString",
          "object": "tabularData",
          "method": "toString",
          "type": "instance_call"
        },
        {
          "target": "valuesForVisit.putAll",
          "object": "valuesForVisit",
          "method": "putAll",
          "type": "instance_call"
        },
        {
          "target": "newTable.get",
          "object": "newTable",
          "method": "get",
          "type": "instance_call"
        },
        {
          "target": "Table.keySet",
          "class": "Table",
          "method": "keySet",
          "type": "static_call"
        },
        {
          "target": "Data.toString",
          "class": "Data",
          "method": "toString",
          "type": "static_call"
        },
        {
          "target": "ForVisit.putAll",
          "class": "ForVisit",
          "method": "putAll",
          "type": "static_call"
        },
        {
          "target": "Table.get",
          "class": "Table",
          "method": "get",
          "type": "static_call"
        }
      ],
      "called_by": [
        "DiseaseSummaryData.concat"
      ],
      "source": {
        "source_code": "    public void addTabularData(Map<String, Map<String, ConceptValue>> newTable){\n        for (String visitDate : newTable.keySet()) {\n            Map<String, ConceptValue> valuesForVisit = getValuesForVisit(visitDate);//tabularData.toString(visitDate);\n            valuesForVisit.putAll(newTable.get(visitDate));\n        }\n    }",
        "annotations": [],
        "signature": "public void addTabularData(Map<String, Map<String, ConceptValue>> newTable){",
        "start_line": 23,
        "end_line": 28,
        "lines_of_code": 6
      }
    },
    "newTable.keySet": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.addTabularData"
      ],
      "source": {}
    },
    "tabularData.toString": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.addTabularData"
      ],
      "source": {}
    },
    "valuesForVisit.putAll": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.addTabularData"
      ],
      "source": {}
    },
    "newTable.get": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.addTabularData"
      ],
      "source": {}
    },
    "Table.keySet": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.addTabularData"
      ],
      "source": {}
    },
    "Data.toString": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.addTabularData"
      ],
      "source": {}
    },
    "ForVisit.putAll": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.addTabularData"
      ],
      "source": {}
    },
    "Table.get": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.addTabularData"
      ],
      "source": {}
    },
    "DiseaseSummaryData.getValuesForVisit": {
      "calls": [
        {
          "target": "tabularData.get",
          "object": "tabularData",
          "method": "get",
          "type": "instance_call"
        },
        {
          "target": "tabularData.put",
          "object": "tabularData",
          "method": "put",
          "type": "instance_call"
        },
        {
          "target": "Data.get",
          "class": "Data",
          "method": "get",
          "type": "static_call"
        },
        {
          "target": "Data.put",
          "class": "Data",
          "method": "put",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    private Map<String, ConceptValue> getValuesForVisit(String visitDate) {\n        Map<String, ConceptValue> valuesForVisit = tabularData.get(visitDate);\n        if( valuesForVisit == null){\n            valuesForVisit = new LinkedHashMap<>();\n            tabularData.put(visitDate,valuesForVisit);\n        }\n        return valuesForVisit;\n    }",
        "annotations": [],
        "signature": "private Map<String, ConceptValue> getValuesForVisit(String visitDate) {",
        "start_line": 30,
        "end_line": 37,
        "lines_of_code": 8
      }
    },
    "tabularData.get": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.getValuesForVisit"
      ],
      "source": {}
    },
    "tabularData.put": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.getValuesForVisit"
      ],
      "source": {}
    },
    "Data.get": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.getValuesForVisit"
      ],
      "source": {}
    },
    "Data.put": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.getValuesForVisit"
      ],
      "source": {}
    },
    "DiseaseSummaryData.getConceptDetails": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public Set<ConceptDetails> getConceptDetails() {\n        return conceptDetails;\n    }",
        "annotations": [],
        "signature": "public Set<ConceptDetails> getConceptDetails() {",
        "start_line": 39,
        "end_line": 41,
        "lines_of_code": 3
      }
    },
    "DiseaseSummaryData.addConceptDetails": {
      "calls": [
        {
          "target": "conceptDetails.addAll",
          "object": "conceptDetails",
          "method": "addAll",
          "type": "instance_call"
        },
        {
          "target": "Details.addAll",
          "class": "Details",
          "method": "addAll",
          "type": "static_call"
        }
      ],
      "called_by": [
        "DiseaseSummaryData.concat"
      ],
      "source": {
        "source_code": "    public void addConceptDetails(Set<ConceptDetails> conceptDetails) {\n        this.conceptDetails.addAll(conceptDetails);\n    }",
        "annotations": [],
        "signature": "public void addConceptDetails(Set<ConceptDetails> conceptDetails) {",
        "start_line": 43,
        "end_line": 45,
        "lines_of_code": 3
      }
    },
    "conceptDetails.addAll": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.addConceptDetails"
      ],
      "source": {}
    },
    "Details.addAll": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.addConceptDetails"
      ],
      "source": {}
    },
    "DiseaseSummaryData.concat": {
      "calls": [
        {
          "target": "diseaseSummaryData.getTabularData",
          "object": "diseaseSummaryData",
          "method": "getTabularData",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryData.getConceptDetails",
          "object": "diseaseSummaryData",
          "method": "getConceptDetails",
          "type": "instance_call"
        },
        {
          "target": "SummaryData.getTabularData",
          "class": "SummaryData",
          "method": "getTabularData",
          "type": "static_call"
        },
        {
          "target": "SummaryData.getConceptDetails",
          "class": "SummaryData",
          "method": "getConceptDetails",
          "type": "static_call"
        },
        {
          "target": "DiseaseSummaryData.addTabularData",
          "method": "addTabularData",
          "type": "local_call"
        },
        {
          "target": "DiseaseSummaryData.addConceptDetails",
          "method": "addConceptDetails",
          "type": "local_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    public void concat(DiseaseSummaryData diseaseSummaryData){\n        addTabularData(diseaseSummaryData.getTabularData());\n        addConceptDetails(diseaseSummaryData.getConceptDetails());\n    }",
        "annotations": [],
        "signature": "public void concat(DiseaseSummaryData diseaseSummaryData){",
        "start_line": 47,
        "end_line": 50,
        "lines_of_code": 4
      }
    },
    "diseaseSummaryData.getTabularData": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.concat",
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary"
      ],
      "source": {}
    },
    "diseaseSummaryData.getConceptDetails": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.concat",
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "SummaryData.getTabularData": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.concat",
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary"
      ],
      "source": {}
    },
    "SummaryData.getConceptDetails": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryData.concat",
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "Privilege.getName": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public String getName() {\n        return name;\n    }",
        "annotations": [],
        "signature": "public String getName() {",
        "start_line": 10,
        "end_line": 12,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.getNumberOfVisits": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public Integer getNumberOfVisits() {\n        return numberOfVisits;\n    }",
        "annotations": [],
        "signature": "public Integer getNumberOfVisits() {",
        "start_line": 19,
        "end_line": 21,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.setNumberOfVisits": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public void setNumberOfVisits(Integer numberOfVisits) {\n        this.numberOfVisits = numberOfVisits;\n    }",
        "annotations": [],
        "signature": "public void setNumberOfVisits(Integer numberOfVisits) {",
        "start_line": 23,
        "end_line": 25,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.getLatestCount": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public Integer getLatestCount() {\n        return latestCount;\n    }",
        "annotations": [],
        "signature": "public Integer getLatestCount() {",
        "start_line": 27,
        "end_line": 29,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.setLatestCount": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public void setLatestCount(Integer latestCount) {\n        this.latestCount = latestCount;\n    }",
        "annotations": [],
        "signature": "public void setLatestCount(Integer latestCount) {",
        "start_line": 31,
        "end_line": 33,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.getInitialCount": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public Integer getInitialCount() {\n        return initialCount;\n    }",
        "annotations": [],
        "signature": "public Integer getInitialCount() {",
        "start_line": 35,
        "end_line": 37,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.setInitialCount": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public void setInitialCount(Integer initialCount) {\n        this.initialCount = initialCount;\n    }",
        "annotations": [],
        "signature": "public void setInitialCount(Integer initialCount) {",
        "start_line": 39,
        "end_line": 41,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.getObsConcepts": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public List<String> getObsConcepts() {\n        return obsConcepts;\n    }",
        "annotations": [],
        "signature": "public List<String> getObsConcepts() {",
        "start_line": 43,
        "end_line": 45,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.setObsConcepts": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public void setObsConcepts(List<String> obsConcepts) {\n        this.obsConcepts = obsConcepts;\n    }",
        "annotations": [],
        "signature": "public void setObsConcepts(List<String> obsConcepts) {",
        "start_line": 47,
        "end_line": 49,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.getLabConcepts": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public List<String> getLabConcepts() {\n        return labConcepts;\n    }",
        "annotations": [],
        "signature": "public List<String> getLabConcepts() {",
        "start_line": 51,
        "end_line": 53,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.setLabConcepts": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public void setLabConcepts(List<String> labConcepts) {\n        this.labConcepts = labConcepts;\n    }",
        "annotations": [],
        "signature": "public void setLabConcepts(List<String> labConcepts) {",
        "start_line": 55,
        "end_line": 57,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.getDrugConcepts": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public List<String> getDrugConcepts() {\n        return drugConcepts;\n    }",
        "annotations": [],
        "signature": "public List<String> getDrugConcepts() {",
        "start_line": 59,
        "end_line": 61,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.setDrugConcepts": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public void setDrugConcepts(List<String> drugConcepts) {\n        this.drugConcepts = drugConcepts;\n    }",
        "annotations": [],
        "signature": "public void setDrugConcepts(List<String> drugConcepts) {",
        "start_line": 63,
        "end_line": 65,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.getGroupBy": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public String getGroupBy() {\n        return groupBy;\n    }",
        "annotations": [],
        "signature": "public String getGroupBy() {",
        "start_line": 67,
        "end_line": 69,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.setGroupBy": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public void setGroupBy(String groupBy) {\n        this.groupBy = groupBy;\n    }",
        "annotations": [],
        "signature": "public void setGroupBy(String groupBy) {",
        "start_line": 71,
        "end_line": 73,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.getVisitUuid": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public String getVisitUuid() {\n        return visitUuid;\n    }",
        "annotations": [],
        "signature": "public String getVisitUuid() {",
        "start_line": 75,
        "end_line": 77,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.setVisitUuid": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public void setVisitUuid(String visitUuid) {\n        this.visitUuid = visitUuid;\n    }",
        "annotations": [],
        "signature": "public void setVisitUuid(String visitUuid) {",
        "start_line": 79,
        "end_line": 81,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.getStartDate": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public Date getStartDate() {\n        return startDate;\n    }",
        "annotations": [],
        "signature": "public Date getStartDate() {",
        "start_line": 83,
        "end_line": 85,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.setStartDate": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public void setStartDate(Date startDate) {\n        this.startDate = startDate;\n    }",
        "annotations": [],
        "signature": "public void setStartDate(Date startDate) {",
        "start_line": 87,
        "end_line": 89,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.getEndDate": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public Date getEndDate() {\n        return endDate;\n    }",
        "annotations": [],
        "signature": "public Date getEndDate() {",
        "start_line": 91,
        "end_line": 93,
        "lines_of_code": 3
      }
    },
    "DiseaseDataParams.setEndDate": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public void setEndDate(Date endDate) {\n        this.endDate = endDate;\n    }",
        "annotations": [],
        "signature": "public void setEndDate(Date endDate) {",
        "start_line": 95,
        "end_line": 97,
        "lines_of_code": 3
      }
    },
    "DiseaseSummaryMap.get": {
      "calls": [
        {
          "target": "super.get",
          "object": "super",
          "method": "get",
          "type": "instance_call"
        },
        {
          "target": "MapUtils.isEmpty",
          "object": "MapUtils",
          "method": "isEmpty",
          "type": "instance_call"
        },
        {
          "target": "super.get",
          "object": "super",
          "method": "get",
          "type": "instance_call"
        },
        {
          "target": "MapUtils.isEmpty",
          "class": "MapUtils",
          "method": "isEmpty",
          "type": "static_call"
        },
        {
          "target": "DiseaseSummaryMap.put",
          "method": "put",
          "type": "local_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    public Map<String, ConceptValue> get(String visitStartDateTime) {\n        Map<String, ConceptValue> mapValue = super.get(visitStartDateTime);\n        if(MapUtils.isEmpty(mapValue)){\n            put(visitStartDateTime, new LinkedHashMap<String, ConceptValue>());\n        }\n        return super.get(visitStartDateTime);\n    }",
        "annotations": [],
        "signature": "public Map<String, ConceptValue> get(String visitStartDateTime) {",
        "start_line": 10,
        "end_line": 16,
        "lines_of_code": 7
      }
    },
    "super.get": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryMap.get",
        "DiseaseSummaryMap.get"
      ],
      "source": {}
    },
    "MapUtils.isEmpty": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryMap.get",
        "DiseaseSummaryMap.get"
      ],
      "source": {}
    },
    "DiseaseSummaryMap.put": {
      "calls": [
        {
          "target": "this.get",
          "object": "this",
          "method": "get",
          "type": "instance_call"
        },
        {
          "target": "cellValue.containsKey",
          "object": "cellValue",
          "method": "containsKey",
          "type": "instance_call"
        },
        {
          "target": "conceptValue.setValue",
          "object": "conceptValue",
          "method": "setValue",
          "type": "instance_call"
        },
        {
          "target": "conceptValue.setAbnormal",
          "object": "conceptValue",
          "method": "setAbnormal",
          "type": "instance_call"
        },
        {
          "target": "cellValue.put",
          "object": "cellValue",
          "method": "put",
          "type": "instance_call"
        },
        {
          "target": "super.put",
          "object": "super",
          "method": "put",
          "type": "instance_call"
        },
        {
          "target": "Value.containsKey",
          "class": "Value",
          "method": "containsKey",
          "type": "static_call"
        },
        {
          "target": "Value.setValue",
          "class": "Value",
          "method": "setValue",
          "type": "static_call"
        },
        {
          "target": "Value.setAbnormal",
          "class": "Value",
          "method": "setAbnormal",
          "type": "static_call"
        },
        {
          "target": "Value.put",
          "class": "Value",
          "method": "put",
          "type": "static_call"
        }
      ],
      "called_by": [
        "DiseaseSummaryMap.get"
      ],
      "source": {
        "source_code": "    public void put(String startDateTime, String conceptName, String value, Boolean abnormal, boolean replaceExisting) {\n        Map<String, ConceptValue> cellValue = this.get(startDateTime);\n        if (cellValue.containsKey(conceptName) && !replaceExisting) return;\n\n        ConceptValue conceptValue = new ConceptValue();\n        conceptValue.setValue(value);\n        conceptValue.setAbnormal(abnormal);\n        cellValue.put(conceptName, conceptValue);\n        super.put(startDateTime, cellValue);\n    }",
        "annotations": [],
        "signature": "public void put(String startDateTime, String conceptName, String value, Boolean abnormal, boolean replaceExisting) {",
        "start_line": 18,
        "end_line": 27,
        "lines_of_code": 10
      }
    },
    "this.get": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryMap.put"
      ],
      "source": {}
    },
    "cellValue.containsKey": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryMap.put"
      ],
      "source": {}
    },
    "conceptValue.setValue": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryMap.put"
      ],
      "source": {}
    },
    "conceptValue.setAbnormal": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryMap.put"
      ],
      "source": {}
    },
    "cellValue.put": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryMap.put"
      ],
      "source": {}
    },
    "super.put": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryMap.put"
      ],
      "source": {}
    },
    "Value.containsKey": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryMap.put"
      ],
      "source": {}
    },
    "Value.setValue": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryMap.put"
      ],
      "source": {}
    },
    "Value.setAbnormal": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryMap.put"
      ],
      "source": {}
    },
    "Value.put": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryMap.put"
      ],
      "source": {}
    },
    "ConceptValue.getAbnormal": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public Boolean getAbnormal() {\n        return abnormal;\n    }",
        "annotations": [],
        "signature": "public Boolean getAbnormal() {",
        "start_line": 8,
        "end_line": 10,
        "lines_of_code": 3
      }
    },
    "ConceptValue.setAbnormal": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public void setAbnormal(Boolean abnormal) {\n        this.abnormal = abnormal;\n    }",
        "annotations": [],
        "signature": "public void setAbnormal(Boolean abnormal) {",
        "start_line": 12,
        "end_line": 14,
        "lines_of_code": 3
      }
    },
    "ConceptValue.getValue": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public String getValue() {\n        return value;\n    }",
        "annotations": [],
        "signature": "public String getValue() {",
        "start_line": 16,
        "end_line": 18,
        "lines_of_code": 3
      }
    },
    "ConceptValue.setValue": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    public void setValue(String value) {\n        this.value = value;\n    }",
        "annotations": [],
        "signature": "public void setValue(String value) {",
        "start_line": 20,
        "end_line": 22,
        "lines_of_code": 3
      }
    },
    "DoseInstructionMapper.getFrequency": {
      "calls": [
        {
          "target": "drugOrder.getFrequency",
          "object": "drugOrder",
          "method": "getFrequency",
          "type": "instance_call"
        },
        {
          "target": "drugOrder.getDosingInstructions",
          "object": "drugOrder",
          "method": "getDosingInstructions",
          "type": "instance_call"
        },
        {
          "target": "instructions.get",
          "object": "instructions",
          "method": "get",
          "type": "instance_call"
        },
        {
          "target": "instructions.get",
          "object": "instructions",
          "method": "get",
          "type": "instance_call"
        },
        {
          "target": "instructions.get",
          "object": "instructions",
          "method": "get",
          "type": "instance_call"
        },
        {
          "target": "drugOrder.getFrequency",
          "object": "drugOrder",
          "method": "getFrequency",
          "type": "instance_call"
        },
        {
          "target": "Order.getFrequency",
          "class": "Order",
          "method": "getFrequency",
          "type": "static_call"
        },
        {
          "target": "Order.getDosingInstructions",
          "class": "Order",
          "method": "getDosingInstructions",
          "type": "static_call"
        },
        {
          "target": "Order.getFrequency",
          "class": "Order",
          "method": "getFrequency",
          "type": "static_call"
        },
        {
          "target": "DoseInstructionMapper.getEmptyIfNull",
          "method": "getEmptyIfNull",
          "type": "local_call"
        },
        {
          "target": "DoseInstructionMapper.getEmptyIfNull",
          "method": "getEmptyIfNull",
          "type": "local_call"
        }
      ],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.formattedDrugOrderValue",
        "DiseaseSummaryDrugOrderMapper.formattedDrugOrderValue"
      ],
      "source": {
        "source_code": "    public static String getFrequency(DrugOrder drugOrder) throws IOException {\n        if (drugOrder.getFrequency() == null) {\n            String dosingInstructions = drugOrder.getDosingInstructions();\n            Map<String, Object> instructions = hashMapForJson(dosingInstructions);\n            return concat(\"-\", getEmptyIfNull(instructions.get(\"morningDose\")),\n                    getEmptyIfNull(instructions.get(\"afternoonDose\")),\n                    getEmptyIfNull(instructions.get(\"eveningDose\")));\n        }\n        return drugOrder.getFrequency().getName();\n    }",
        "annotations": [],
        "signature": "public static String getFrequency(DrugOrder drugOrder) throws IOException {",
        "start_line": 15,
        "end_line": 24,
        "lines_of_code": 10
      }
    },
    "drugOrder.getFrequency": {
      "calls": [],
      "called_by": [
        "DoseInstructionMapper.getFrequency",
        "DoseInstructionMapper.getFrequency"
      ],
      "source": {}
    },
    "drugOrder.getDosingInstructions": {
      "calls": [],
      "called_by": [
        "DoseInstructionMapper.getFrequency"
      ],
      "source": {}
    },
    "instructions.get": {
      "calls": [],
      "called_by": [
        "DoseInstructionMapper.getFrequency",
        "DoseInstructionMapper.getFrequency",
        "DoseInstructionMapper.getFrequency"
      ],
      "source": {}
    },
    "Order.getFrequency": {
      "calls": [],
      "called_by": [
        "DoseInstructionMapper.getFrequency",
        "DoseInstructionMapper.getFrequency"
      ],
      "source": {}
    },
    "Order.getDosingInstructions": {
      "calls": [],
      "called_by": [
        "DoseInstructionMapper.getFrequency"
      ],
      "source": {}
    },
    "DoseInstructionMapper.getEmptyIfNull": {
      "calls": [
        {
          "target": "text.toString",
          "object": "text",
          "method": "toString",
          "type": "instance_call"
        }
      ],
      "called_by": [
        "DoseInstructionMapper.getFrequency",
        "DoseInstructionMapper.getFrequency"
      ],
      "source": {
        "source_code": "    private static String getEmptyIfNull(Object text) {\n        return text == null ? \"\" : text.toString();\n    }",
        "annotations": [],
        "signature": "private static String getEmptyIfNull(Object text) {",
        "start_line": 26,
        "end_line": 28,
        "lines_of_code": 3
      }
    },
    "text.toString": {
      "calls": [],
      "called_by": [
        "DoseInstructionMapper.getEmptyIfNull"
      ],
      "source": {}
    },
    "DoseInstructionMapper.hashMapForJson": {
      "calls": [
        {
          "target": "dosingInstructions.isEmpty",
          "object": "dosingInstructions",
          "method": "isEmpty",
          "type": "instance_call"
        },
        {
          "target": "objectMapper.readValue",
          "object": "objectMapper",
          "method": "readValue",
          "type": "instance_call"
        },
        {
          "target": "Instructions.isEmpty",
          "class": "Instructions",
          "method": "isEmpty",
          "type": "static_call"
        },
        {
          "target": "Mapper.readValue",
          "class": "Mapper",
          "method": "readValue",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    public static Map<String, Object> hashMapForJson(String dosingInstructions) throws IOException {\n        if (dosingInstructions == null || dosingInstructions.isEmpty()) {\n            return Collections.EMPTY_MAP;\n        }\n        ObjectMapper objectMapper = new ObjectMapper(new JsonFactory());\n        TypeReference<HashMap<String, Object>> typeRef\n                = new TypeReference<HashMap<String, Object>>() {\n        };\n        return objectMapper.readValue(dosingInstructions, typeRef);\n    }",
        "annotations": [],
        "signature": "public static Map<String, Object> hashMapForJson(String dosingInstructions) throws IOException {",
        "start_line": 30,
        "end_line": 39,
        "lines_of_code": 10
      }
    },
    "dosingInstructions.isEmpty": {
      "calls": [],
      "called_by": [
        "DoseInstructionMapper.hashMapForJson"
      ],
      "source": {}
    },
    "objectMapper.readValue": {
      "calls": [],
      "called_by": [
        "DoseInstructionMapper.hashMapForJson"
      ],
      "source": {}
    },
    "Instructions.isEmpty": {
      "calls": [],
      "called_by": [
        "DoseInstructionMapper.hashMapForJson"
      ],
      "source": {}
    },
    "Mapper.readValue": {
      "calls": [],
      "called_by": [
        "DoseInstructionMapper.hashMapForJson"
      ],
      "source": {}
    },
    "DoseInstructionMapper.concat": {
      "calls": [
        {
          "target": "value.isEmpty",
          "object": "value",
          "method": "isEmpty",
          "type": "instance_call"
        },
        {
          "target": "stringBuilder.append",
          "object": "stringBuilder",
          "method": "append",
          "type": "instance_call"
        },
        {
          "target": "stringBuilder.length",
          "object": "stringBuilder",
          "method": "length",
          "type": "instance_call"
        },
        {
          "target": "stringBuilder.substring",
          "object": "stringBuilder",
          "method": "substring",
          "type": "instance_call"
        },
        {
          "target": "Builder.append",
          "class": "Builder",
          "method": "append",
          "type": "static_call"
        },
        {
          "target": "Builder.length",
          "class": "Builder",
          "method": "length",
          "type": "static_call"
        },
        {
          "target": "Builder.substring",
          "class": "Builder",
          "method": "substring",
          "type": "static_call"
        }
      ],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.formattedDrugOrderValue",
        "DiseaseSummaryDrugOrderMapper.formattedDrugOrderValue"
      ],
      "source": {
        "source_code": "    public static String concat(String separator, String... values) {\n        StringBuilder stringBuilder = new StringBuilder();\n        for (String value : values) {\n            if (value != null && !value.isEmpty()) {\n                stringBuilder.append(separator).append(value);\n            }\n        }\n        return stringBuilder.length() > 1 ? stringBuilder.substring(1) : \"\";\n    }",
        "annotations": [],
        "signature": "public static String concat(String separator, String... values) {",
        "start_line": 41,
        "end_line": 49,
        "lines_of_code": 9
      }
    },
    "value.isEmpty": {
      "calls": [],
      "called_by": [
        "DoseInstructionMapper.concat"
      ],
      "source": {}
    },
    "stringBuilder.append": {
      "calls": [],
      "called_by": [
        "DoseInstructionMapper.concat"
      ],
      "source": {}
    },
    "stringBuilder.length": {
      "calls": [],
      "called_by": [
        "DoseInstructionMapper.concat"
      ],
      "source": {}
    },
    "stringBuilder.substring": {
      "calls": [],
      "called_by": [
        "DoseInstructionMapper.concat"
      ],
      "source": {}
    },
    "Builder.append": {
      "calls": [],
      "called_by": [
        "DoseInstructionMapper.concat"
      ],
      "source": {}
    },
    "Builder.length": {
      "calls": [],
      "called_by": [
        "DoseInstructionMapper.concat"
      ],
      "source": {}
    },
    "Builder.substring": {
      "calls": [],
      "called_by": [
        "DoseInstructionMapper.concat"
      ],
      "source": {}
    },
    "DiseaseSummaryDrugOrderMapper.map": {
      "calls": [
        {
          "target": "RESULT_TABLE_GROUP_BY_ENCOUNTER.equals",
          "object": "RESULT_TABLE_GROUP_BY_ENCOUNTER",
          "method": "equals",
          "type": "instance_call"
        },
        {
          "target": "DateFormatUtils.format",
          "object": "DateFormatUtils",
          "method": "format",
          "type": "instance_call"
        },
        {
          "target": "drugOrder.getEncounter",
          "object": "drugOrder",
          "method": "getEncounter",
          "type": "instance_call"
        },
        {
          "target": "ISO_DATETIME_TIME_ZONE_FORMAT.getPattern",
          "object": "ISO_DATETIME_TIME_ZONE_FORMAT",
          "method": "getPattern",
          "type": "instance_call"
        },
        {
          "target": "DateFormatUtils.format",
          "object": "DateFormatUtils",
          "method": "format",
          "type": "instance_call"
        },
        {
          "target": "drugOrder.getEncounter",
          "object": "drugOrder",
          "method": "getEncounter",
          "type": "instance_call"
        },
        {
          "target": "ISO_DATETIME_TIME_ZONE_FORMAT.getPattern",
          "object": "ISO_DATETIME_TIME_ZONE_FORMAT",
          "method": "getPattern",
          "type": "instance_call"
        },
        {
          "target": "drugOrder.getDrug",
          "object": "drugOrder",
          "method": "getDrug",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryMap.put",
          "object": "diseaseSummaryMap",
          "method": "put",
          "type": "instance_call"
        },
        {
          "target": "logger.error",
          "object": "logger",
          "method": "error",
          "type": "instance_call"
        },
        {
          "target": "RESULT_TABLE_GROUP_BY_ENCOUNTER.equals",
          "class": "RESULT_TABLE_GROUP_BY_ENCOUNTER",
          "method": "equals",
          "type": "static_call"
        },
        {
          "target": "DateFormatUtils.format",
          "class": "DateFormatUtils",
          "method": "format",
          "type": "static_call"
        },
        {
          "target": "Order.getEncounter",
          "class": "Order",
          "method": "getEncounter",
          "type": "static_call"
        },
        {
          "target": "ISO_DATETIME_TIME_ZONE_FORMAT.getPattern",
          "class": "ISO_DATETIME_TIME_ZONE_FORMAT",
          "method": "getPattern",
          "type": "static_call"
        },
        {
          "target": "DateFormatUtils.format",
          "class": "DateFormatUtils",
          "method": "format",
          "type": "static_call"
        },
        {
          "target": "Order.getEncounter",
          "class": "Order",
          "method": "getEncounter",
          "type": "static_call"
        },
        {
          "target": "ISO_DATETIME_TIME_ZONE_FORMAT.getPattern",
          "class": "ISO_DATETIME_TIME_ZONE_FORMAT",
          "method": "getPattern",
          "type": "static_call"
        },
        {
          "target": "Order.getDrug",
          "class": "Order",
          "method": "getDrug",
          "type": "static_call"
        },
        {
          "target": "SummaryMap.put",
          "class": "SummaryMap",
          "method": "put",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    public DiseaseSummaryMap map(List<DrugOrder> drugOrders, String groupBy)  {\n        DiseaseSummaryMap diseaseSummaryMap = new DiseaseSummaryMap();\n        for (DrugOrder drugOrder : drugOrders) {\n            String startDateTime = (DiseaseSummaryConstants.RESULT_TABLE_GROUP_BY_ENCOUNTER.equals(groupBy)) ?\n                    DateFormatUtils.format(drugOrder.getEncounter().getEncounterDatetime(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern()) : DateFormatUtils.format(drugOrder.getEncounter().getVisit().getStartDatetime(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern());\n            String conceptName = drugOrder.getDrug().getConcept().getName().getName();\n            try {\n                diseaseSummaryMap.put(startDateTime, conceptName, formattedDrugOrderValue(drugOrder), null, false);\n            } catch (IOException e) {\n                logger.error(\"Could not parse dosing instructions\",e);\n                throw new RuntimeException(\"Could not parse dosing instructions\",e);\n            }\n        }\n        return diseaseSummaryMap;\n    }",
        "annotations": [],
        "signature": "public DiseaseSummaryMap map(List<DrugOrder> drugOrders, String groupBy)  {",
        "start_line": 18,
        "end_line": 32,
        "lines_of_code": 15
      }
    },
    "RESULT_TABLE_GROUP_BY_ENCOUNTER.equals": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.map",
        "DiseaseSummaryDrugOrderMapper.map",
        "DiseaseSummaryLabMapper.map",
        "DiseaseSummaryLabMapper.map"
      ],
      "source": {}
    },
    "DateFormatUtils.format": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.map",
        "DiseaseSummaryDrugOrderMapper.map",
        "DiseaseSummaryDrugOrderMapper.map",
        "DiseaseSummaryDrugOrderMapper.map",
        "DiseaseSummaryObsMapper.getGroupByDate",
        "DiseaseSummaryObsMapper.getGroupByDate",
        "DiseaseSummaryObsMapper.getGroupByDate",
        "DiseaseSummaryObsMapper.getGroupByDate",
        "DiseaseSummaryObsMapper.getGroupByDate",
        "DiseaseSummaryObsMapper.getGroupByDate",
        "DiseaseSummaryLabMapper.map",
        "DiseaseSummaryLabMapper.map",
        "DiseaseSummaryLabMapper.map",
        "DiseaseSummaryLabMapper.map"
      ],
      "source": {}
    },
    "drugOrder.getEncounter": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.map",
        "DiseaseSummaryDrugOrderMapper.map"
      ],
      "source": {}
    },
    "ISO_DATETIME_TIME_ZONE_FORMAT.getPattern": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.map",
        "DiseaseSummaryDrugOrderMapper.map",
        "DiseaseSummaryDrugOrderMapper.map",
        "DiseaseSummaryDrugOrderMapper.map",
        "DiseaseSummaryObsMapper.getGroupByDate",
        "DiseaseSummaryObsMapper.getGroupByDate",
        "DiseaseSummaryObsMapper.getGroupByDate",
        "DiseaseSummaryObsMapper.getGroupByDate",
        "DiseaseSummaryObsMapper.getGroupByDate",
        "DiseaseSummaryObsMapper.getGroupByDate",
        "DiseaseSummaryLabMapper.map",
        "DiseaseSummaryLabMapper.map",
        "DiseaseSummaryLabMapper.map",
        "DiseaseSummaryLabMapper.map",
        "BahmniDiseaseSummaryServiceImpl.convertToDate",
        "BahmniDiseaseSummaryServiceImpl.convertToDate"
      ],
      "source": {}
    },
    "drugOrder.getDrug": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.map",
        "DiseaseSummaryDrugOrderMapper.formattedDrugOrderValue"
      ],
      "source": {}
    },
    "diseaseSummaryMap.put": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.map",
        "DiseaseSummaryObsMapper.map",
        "DiseaseSummaryLabMapper.map"
      ],
      "source": {}
    },
    "logger.error": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.map"
      ],
      "source": {}
    },
    "Order.getEncounter": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.map",
        "DiseaseSummaryDrugOrderMapper.map"
      ],
      "source": {}
    },
    "Order.getDrug": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.map",
        "DiseaseSummaryDrugOrderMapper.formattedDrugOrderValue"
      ],
      "source": {}
    },
    "SummaryMap.put": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.map",
        "DiseaseSummaryObsMapper.map",
        "DiseaseSummaryLabMapper.map"
      ],
      "source": {}
    },
    "DiseaseSummaryDrugOrderMapper.formattedDrugOrderValue": {
      "calls": [
        {
          "target": "drugOrder.getDrug",
          "object": "drugOrder",
          "method": "getDrug",
          "type": "instance_call"
        },
        {
          "target": "drugOrder.getDoseUnits",
          "object": "drugOrder",
          "method": "getDoseUnits",
          "type": "instance_call"
        },
        {
          "target": "doseUnitsConcept.getName",
          "object": "doseUnitsConcept",
          "method": "getName",
          "type": "instance_call"
        },
        {
          "target": "drugOrder.getDose",
          "object": "drugOrder",
          "method": "getDose",
          "type": "instance_call"
        },
        {
          "target": "drugOrder.getDose",
          "object": "drugOrder",
          "method": "getDose",
          "type": "instance_call"
        },
        {
          "target": "DoseInstructionMapper.getFrequency",
          "object": "DoseInstructionMapper",
          "method": "getFrequency",
          "type": "instance_call"
        },
        {
          "target": "drugOrder.getAsNeeded",
          "object": "drugOrder",
          "method": "getAsNeeded",
          "type": "instance_call"
        },
        {
          "target": "DoseInstructionMapper.concat",
          "object": "DoseInstructionMapper",
          "method": "concat",
          "type": "instance_call"
        },
        {
          "target": "Order.getDrug",
          "class": "Order",
          "method": "getDrug",
          "type": "static_call"
        },
        {
          "target": "Order.getDoseUnits",
          "class": "Order",
          "method": "getDoseUnits",
          "type": "static_call"
        },
        {
          "target": "UnitsConcept.getName",
          "class": "UnitsConcept",
          "method": "getName",
          "type": "static_call"
        },
        {
          "target": "Order.getDose",
          "class": "Order",
          "method": "getDose",
          "type": "static_call"
        },
        {
          "target": "Order.getDose",
          "class": "Order",
          "method": "getDose",
          "type": "static_call"
        },
        {
          "target": "DoseInstructionMapper.getFrequency",
          "class": "DoseInstructionMapper",
          "method": "getFrequency",
          "type": "static_call"
        },
        {
          "target": "Order.getAsNeeded",
          "class": "Order",
          "method": "getAsNeeded",
          "type": "static_call"
        },
        {
          "target": "DoseInstructionMapper.concat",
          "class": "DoseInstructionMapper",
          "method": "concat",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    private String formattedDrugOrderValue(DrugOrder drugOrder) throws IOException {\n        String strength = drugOrder.getDrug().getStrength();\n        Concept doseUnitsConcept = drugOrder.getDoseUnits();\n        String doseUnit = doseUnitsConcept == null ? \"\" : \" \" + doseUnitsConcept.getName().getName();\n        String dose = drugOrder.getDose() == null ? \"\" : drugOrder.getDose() + doseUnit;\n        String frequency = DoseInstructionMapper.getFrequency(drugOrder);\n        String asNeeded = drugOrder.getAsNeeded() ? \"SOS\" : null;\n        return DoseInstructionMapper.concat(\",\", strength, dose, frequency, asNeeded);\n    }",
        "annotations": [],
        "signature": "private String formattedDrugOrderValue(DrugOrder drugOrder) throws IOException {",
        "start_line": 34,
        "end_line": 42,
        "lines_of_code": 9
      }
    },
    "drugOrder.getDoseUnits": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.formattedDrugOrderValue"
      ],
      "source": {}
    },
    "doseUnitsConcept.getName": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.formattedDrugOrderValue"
      ],
      "source": {}
    },
    "drugOrder.getDose": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.formattedDrugOrderValue",
        "DiseaseSummaryDrugOrderMapper.formattedDrugOrderValue"
      ],
      "source": {}
    },
    "drugOrder.getAsNeeded": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.formattedDrugOrderValue"
      ],
      "source": {}
    },
    "Order.getDoseUnits": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.formattedDrugOrderValue"
      ],
      "source": {}
    },
    "UnitsConcept.getName": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.formattedDrugOrderValue"
      ],
      "source": {}
    },
    "Order.getDose": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.formattedDrugOrderValue",
        "DiseaseSummaryDrugOrderMapper.formattedDrugOrderValue"
      ],
      "source": {}
    },
    "Order.getAsNeeded": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryDrugOrderMapper.formattedDrugOrderValue"
      ],
      "source": {}
    },
    "DiseaseSummaryObsMapper.map": {
      "calls": [
        {
          "target": "CollectionUtils.isNotEmpty",
          "object": "CollectionUtils",
          "method": "isNotEmpty",
          "type": "instance_call"
        },
        {
          "target": "leafObservation.getConcept",
          "object": "leafObservation",
          "method": "getConcept",
          "type": "instance_call"
        },
        {
          "target": "RESULT_TABLE_GROUP_BY_OBS_DATETIME_AND_CONCEPT.equals",
          "object": "RESULT_TABLE_GROUP_BY_OBS_DATETIME_AND_CONCEPT",
          "method": "equals",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryMap.put",
          "object": "diseaseSummaryMap",
          "method": "put",
          "type": "instance_call"
        },
        {
          "target": "leafObservation.isAbnormal",
          "object": "leafObservation",
          "method": "isAbnormal",
          "type": "instance_call"
        },
        {
          "target": "CollectionUtils.isNotEmpty",
          "class": "CollectionUtils",
          "method": "isNotEmpty",
          "type": "static_call"
        },
        {
          "target": "Observation.getConcept",
          "class": "Observation",
          "method": "getConcept",
          "type": "static_call"
        },
        {
          "target": "RESULT_TABLE_GROUP_BY_OBS_DATETIME_AND_CONCEPT.equals",
          "class": "RESULT_TABLE_GROUP_BY_OBS_DATETIME_AND_CONCEPT",
          "method": "equals",
          "type": "static_call"
        },
        {
          "target": "SummaryMap.put",
          "class": "SummaryMap",
          "method": "put",
          "type": "static_call"
        },
        {
          "target": "Observation.isAbnormal",
          "class": "Observation",
          "method": "isAbnormal",
          "type": "static_call"
        },
        {
          "target": "DiseaseSummaryObsMapper.constructLeafObservationsFromConceptSet",
          "method": "constructLeafObservationsFromConceptSet",
          "type": "local_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    public DiseaseSummaryMap map(Collection<BahmniObservation> bahmniObservations, String groupBy) {\n        DiseaseSummaryMap diseaseSummaryMap = new DiseaseSummaryMap();\n        bahmniObservations = extractGroupObservationFromParent(bahmniObservations);\n        if (CollectionUtils.isNotEmpty(bahmniObservations)) {\n            Map<String, List<BahmniObservation>> observationsByEncounter = groupObsByEncounterUuid(bahmniObservations);\n            for (BahmniObservation bahmniObservation : bahmniObservations) {\n                List<BahmniObservation> observationsFromConceptSet = new ArrayList<>();\n                constructLeafObservationsFromConceptSet(bahmniObservation, observationsFromConceptSet);\n                for (BahmniObservation leafObservation : observationsFromConceptSet) {\n                    String startDateTime = getGroupByDate(leafObservation, groupBy);\n                    String conceptName = leafObservation.getConcept().getShortName();\n                    String observationValue = computeValueForLeafObservation(leafObservation, observationsByEncounter, !DiseaseSummaryConstants.RESULT_TABLE_GROUP_BY_OBS_DATETIME_AND_CONCEPT.equals(groupBy));\n                    diseaseSummaryMap.put(startDateTime, conceptName, observationValue, leafObservation.isAbnormal(), false);\n                }\n            }\n        }\n        return diseaseSummaryMap;\n    }",
        "annotations": [],
        "signature": "public DiseaseSummaryMap map(Collection<BahmniObservation> bahmniObservations, String groupBy) {",
        "start_line": 20,
        "end_line": 37,
        "lines_of_code": 18
      }
    },
    "CollectionUtils.isNotEmpty": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.map",
        "DiseaseSummaryObsMapper.map"
      ],
      "source": {}
    },
    "leafObservation.getConcept": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.map"
      ],
      "source": {}
    },
    "RESULT_TABLE_GROUP_BY_OBS_DATETIME_AND_CONCEPT.equals": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.map",
        "DiseaseSummaryObsMapper.map"
      ],
      "source": {}
    },
    "leafObservation.isAbnormal": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.map"
      ],
      "source": {}
    },
    "Observation.getConcept": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.map",
        "DiseaseSummaryObsMapper.constructLeafObservationsFromConceptSet"
      ],
      "source": {}
    },
    "Observation.isAbnormal": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.map"
      ],
      "source": {}
    },
    "DiseaseSummaryObsMapper.constructLeafObservationsFromConceptSet": {
      "calls": [
        {
          "target": "bahmniObservation.getGroupMembers",
          "object": "bahmniObservation",
          "method": "getGroupMembers",
          "type": "instance_call"
        },
        {
          "target": "bahmniObservation.getGroupMembers",
          "object": "bahmniObservation",
          "method": "getGroupMembers",
          "type": "instance_call"
        },
        {
          "target": "ABNORMAL_CONCEPT_CLASS.equals",
          "object": "ABNORMAL_CONCEPT_CLASS",
          "method": "equals",
          "type": "instance_call"
        },
        {
          "target": "bahmniObservation.getConcept",
          "object": "bahmniObservation",
          "method": "getConcept",
          "type": "instance_call"
        },
        {
          "target": "observationsFromConceptSet.add",
          "object": "observationsFromConceptSet",
          "method": "add",
          "type": "instance_call"
        },
        {
          "target": "Observation.getGroupMembers",
          "class": "Observation",
          "method": "getGroupMembers",
          "type": "static_call"
        },
        {
          "target": "Observation.getGroupMembers",
          "class": "Observation",
          "method": "getGroupMembers",
          "type": "static_call"
        },
        {
          "target": "ABNORMAL_CONCEPT_CLASS.equals",
          "class": "ABNORMAL_CONCEPT_CLASS",
          "method": "equals",
          "type": "static_call"
        },
        {
          "target": "Observation.getConcept",
          "class": "Observation",
          "method": "getConcept",
          "type": "static_call"
        },
        {
          "target": "FromConceptSet.add",
          "class": "FromConceptSet",
          "method": "add",
          "type": "static_call"
        },
        {
          "target": "DiseaseSummaryObsMapper.constructLeafObservationsFromConceptSet",
          "method": "constructLeafObservationsFromConceptSet",
          "type": "local_call"
        }
      ],
      "called_by": [
        "DiseaseSummaryObsMapper.map",
        "DiseaseSummaryObsMapper.extractGroupObservationFromParent",
        "DiseaseSummaryObsMapper.constructLeafObservationsFromConceptSet"
      ],
      "source": {
        "source_code": "    private void constructLeafObservationsFromConceptSet(BahmniObservation bahmniObservation, List<BahmniObservation> observationsFromConceptSet) {\n        if (bahmniObservation.getGroupMembers().size() > 0) {\n            for (BahmniObservation groupMember : bahmniObservation.getGroupMembers())\n                constructLeafObservationsFromConceptSet(groupMember, observationsFromConceptSet);\n        } else {\n            if (!ETObsToBahmniObsMapper.ABNORMAL_CONCEPT_CLASS.equals(bahmniObservation.getConcept().getConceptClass())) {\n                observationsFromConceptSet.add(bahmniObservation);\n            }\n        }\n    }",
        "annotations": [],
        "signature": "private void constructLeafObservationsFromConceptSet(BahmniObservation bahmniObservation, List<BahmniObservation> observationsFromConceptSet) {",
        "start_line": 67,
        "end_line": 76,
        "lines_of_code": 10
      }
    },
    "DiseaseSummaryObsMapper.getGroupByDate": {
      "calls": [
        {
          "target": "StringUtils.defaultString",
          "object": "StringUtils",
          "method": "defaultString",
          "type": "instance_call"
        },
        {
          "target": "DateFormatUtils.format",
          "object": "DateFormatUtils",
          "method": "format",
          "type": "instance_call"
        },
        {
          "target": "observation.getEncounterDateTime",
          "object": "observation",
          "method": "getEncounterDateTime",
          "type": "instance_call"
        },
        {
          "target": "ISO_DATETIME_TIME_ZONE_FORMAT.getPattern",
          "object": "ISO_DATETIME_TIME_ZONE_FORMAT",
          "method": "getPattern",
          "type": "instance_call"
        },
        {
          "target": "DateFormatUtils.format",
          "object": "DateFormatUtils",
          "method": "format",
          "type": "instance_call"
        },
        {
          "target": "observation.getObservationDateTime",
          "object": "observation",
          "method": "getObservationDateTime",
          "type": "instance_call"
        },
        {
          "target": "ISO_DATETIME_TIME_ZONE_FORMAT.getPattern",
          "object": "ISO_DATETIME_TIME_ZONE_FORMAT",
          "method": "getPattern",
          "type": "instance_call"
        },
        {
          "target": "DateFormatUtils.format",
          "object": "DateFormatUtils",
          "method": "format",
          "type": "instance_call"
        },
        {
          "target": "observation.getVisitStartDateTime",
          "object": "observation",
          "method": "getVisitStartDateTime",
          "type": "instance_call"
        },
        {
          "target": "ISO_DATETIME_TIME_ZONE_FORMAT.getPattern",
          "object": "ISO_DATETIME_TIME_ZONE_FORMAT",
          "method": "getPattern",
          "type": "instance_call"
        },
        {
          "target": "StringUtils.defaultString",
          "class": "StringUtils",
          "method": "defaultString",
          "type": "static_call"
        },
        {
          "target": "DateFormatUtils.format",
          "class": "DateFormatUtils",
          "method": "format",
          "type": "static_call"
        },
        {
          "target": "ISO_DATETIME_TIME_ZONE_FORMAT.getPattern",
          "class": "ISO_DATETIME_TIME_ZONE_FORMAT",
          "method": "getPattern",
          "type": "static_call"
        },
        {
          "target": "DateFormatUtils.format",
          "class": "DateFormatUtils",
          "method": "format",
          "type": "static_call"
        },
        {
          "target": "ISO_DATETIME_TIME_ZONE_FORMAT.getPattern",
          "class": "ISO_DATETIME_TIME_ZONE_FORMAT",
          "method": "getPattern",
          "type": "static_call"
        },
        {
          "target": "DateFormatUtils.format",
          "class": "DateFormatUtils",
          "method": "format",
          "type": "static_call"
        },
        {
          "target": "ISO_DATETIME_TIME_ZONE_FORMAT.getPattern",
          "class": "ISO_DATETIME_TIME_ZONE_FORMAT",
          "method": "getPattern",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    private String getGroupByDate(BahmniObservation observation, String groupBy) {\n        switch (StringUtils.defaultString(groupBy)) {\n            case DiseaseSummaryConstants.RESULT_TABLE_GROUP_BY_ENCOUNTER: return DateFormatUtils.format(observation.getEncounterDateTime(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern());\n            case DiseaseSummaryConstants.RESULT_TABLE_GROUP_BY_OBS_DATETIME:\n            case DiseaseSummaryConstants.RESULT_TABLE_GROUP_BY_OBS_DATETIME_AND_CONCEPT:\n                return DateFormatUtils.format(observation.getObservationDateTime(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern());\n            default: return DateFormatUtils.format(observation.getVisitStartDateTime(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern());\n        }\n    }",
        "annotations": [],
        "signature": "private String getGroupByDate(BahmniObservation observation, String groupBy) {",
        "start_line": 39,
        "end_line": 47,
        "lines_of_code": 9
      }
    },
    "StringUtils.defaultString": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.getGroupByDate",
        "DiseaseSummaryObsMapper.getGroupByDate"
      ],
      "source": {}
    },
    "observation.getEncounterDateTime": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.getGroupByDate"
      ],
      "source": {}
    },
    "observation.getObservationDateTime": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.getGroupByDate"
      ],
      "source": {}
    },
    "observation.getVisitStartDateTime": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.getGroupByDate"
      ],
      "source": {}
    },
    "DiseaseSummaryObsMapper.extractGroupObservationFromParent": {
      "calls": [
        {
          "target": "DiseaseSummaryObsMapper.constructLeafObservationsFromConceptSet",
          "method": "constructLeafObservationsFromConceptSet",
          "type": "local_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    private List<BahmniObservation> extractGroupObservationFromParent(Collection<BahmniObservation> bahmniObservations){\n        List<BahmniObservation> finalObservations = new ArrayList<>();\n        for (BahmniObservation bahmniObservation : bahmniObservations) {\n            constructLeafObservationsFromConceptSet(bahmniObservation, finalObservations);\n        }\n        return finalObservations;\n    }",
        "annotations": [],
        "signature": "private List<BahmniObservation> extractGroupObservationFromParent(Collection<BahmniObservation> bahmniObservations){",
        "start_line": 49,
        "end_line": 55,
        "lines_of_code": 7
      }
    },
    "DiseaseSummaryObsMapper.groupObsByEncounterUuid": {
      "calls": [
        {
          "target": "result.get",
          "object": "result",
          "method": "get",
          "type": "instance_call"
        },
        {
          "target": "bahmniObservation.getEncounterUuid",
          "object": "bahmniObservation",
          "method": "getEncounterUuid",
          "type": "instance_call"
        },
        {
          "target": "result.get",
          "object": "result",
          "method": "get",
          "type": "instance_call"
        },
        {
          "target": "bahmniObservation.getEncounterUuid",
          "object": "bahmniObservation",
          "method": "getEncounterUuid",
          "type": "instance_call"
        },
        {
          "target": "bahmniObservationsForEncounter.add",
          "object": "bahmniObservationsForEncounter",
          "method": "add",
          "type": "instance_call"
        },
        {
          "target": "result.put",
          "object": "result",
          "method": "put",
          "type": "instance_call"
        },
        {
          "target": "bahmniObservation.getEncounterUuid",
          "object": "bahmniObservation",
          "method": "getEncounterUuid",
          "type": "instance_call"
        },
        {
          "target": "Observation.getEncounterUuid",
          "class": "Observation",
          "method": "getEncounterUuid",
          "type": "static_call"
        },
        {
          "target": "Observation.getEncounterUuid",
          "class": "Observation",
          "method": "getEncounterUuid",
          "type": "static_call"
        },
        {
          "target": "ObservationsForEncounter.add",
          "class": "ObservationsForEncounter",
          "method": "add",
          "type": "static_call"
        },
        {
          "target": "Observation.getEncounterUuid",
          "class": "Observation",
          "method": "getEncounterUuid",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    private Map<String, List<BahmniObservation>> groupObsByEncounterUuid(Collection<BahmniObservation> bahmniObservations) {\n        Map<String,List<BahmniObservation>> result = new LinkedHashMap<>();\n        for (BahmniObservation bahmniObservation : bahmniObservations) {\n            List<BahmniObservation> bahmniObservationsForEncounter = result.get(bahmniObservation.getEncounterUuid()) == null?new ArrayList<BahmniObservation>():result.get(bahmniObservation.getEncounterUuid());\n            bahmniObservationsForEncounter.add(bahmniObservation);\n            result.put(bahmniObservation.getEncounterUuid(), bahmniObservationsForEncounter);\n        }\n        return result;\n    }",
        "annotations": [],
        "signature": "private Map<String, List<BahmniObservation>> groupObsByEncounterUuid(Collection<BahmniObservation> bahmniObservations) {",
        "start_line": 57,
        "end_line": 65,
        "lines_of_code": 9
      }
    },
    "result.get": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.groupObsByEncounterUuid",
        "DiseaseSummaryObsMapper.groupObsByEncounterUuid"
      ],
      "source": {}
    },
    "bahmniObservation.getEncounterUuid": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.groupObsByEncounterUuid",
        "DiseaseSummaryObsMapper.groupObsByEncounterUuid",
        "DiseaseSummaryObsMapper.groupObsByEncounterUuid"
      ],
      "source": {}
    },
    "bahmniObservationsForEncounter.add": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.groupObsByEncounterUuid"
      ],
      "source": {}
    },
    "result.put": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.groupObsByEncounterUuid"
      ],
      "source": {}
    },
    "Observation.getEncounterUuid": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.groupObsByEncounterUuid",
        "DiseaseSummaryObsMapper.groupObsByEncounterUuid",
        "DiseaseSummaryObsMapper.groupObsByEncounterUuid"
      ],
      "source": {}
    },
    "ObservationsForEncounter.add": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.groupObsByEncounterUuid"
      ],
      "source": {}
    },
    "bahmniObservation.getGroupMembers": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.constructLeafObservationsFromConceptSet",
        "DiseaseSummaryObsMapper.constructLeafObservationsFromConceptSet"
      ],
      "source": {}
    },
    "ABNORMAL_CONCEPT_CLASS.equals": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.constructLeafObservationsFromConceptSet",
        "DiseaseSummaryObsMapper.constructLeafObservationsFromConceptSet"
      ],
      "source": {}
    },
    "bahmniObservation.getConcept": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.constructLeafObservationsFromConceptSet"
      ],
      "source": {}
    },
    "observationsFromConceptSet.add": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.constructLeafObservationsFromConceptSet"
      ],
      "source": {}
    },
    "Observation.getGroupMembers": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.constructLeafObservationsFromConceptSet",
        "DiseaseSummaryObsMapper.constructLeafObservationsFromConceptSet"
      ],
      "source": {}
    },
    "FromConceptSet.add": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.constructLeafObservationsFromConceptSet"
      ],
      "source": {}
    },
    "DiseaseSummaryObsMapper.computeValueForLeafObservation": {
      "calls": [
        {
          "target": "observationsByEncounter.containsKey",
          "object": "observationsByEncounter",
          "method": "containsKey",
          "type": "instance_call"
        },
        {
          "target": "observation.getEncounterUuid",
          "object": "observation",
          "method": "getEncounterUuid",
          "type": "instance_call"
        },
        {
          "target": "observationsByEncounter.get",
          "object": "observationsByEncounter",
          "method": "get",
          "type": "instance_call"
        },
        {
          "target": "observation.getEncounterUuid",
          "object": "observation",
          "method": "getEncounterUuid",
          "type": "instance_call"
        },
        {
          "target": "bahmniObservationInEncounter.getValueAsString",
          "object": "bahmniObservationInEncounter",
          "method": "getValueAsString",
          "type": "instance_call"
        },
        {
          "target": "StringUtils.isBlank",
          "object": "StringUtils",
          "method": "isBlank",
          "type": "instance_call"
        },
        {
          "target": "observation.getValueAsString",
          "object": "observation",
          "method": "getValueAsString",
          "type": "instance_call"
        },
        {
          "target": "observation.getValueAsString",
          "object": "observation",
          "method": "getValueAsString",
          "type": "instance_call"
        },
        {
          "target": "ByEncounter.containsKey",
          "class": "ByEncounter",
          "method": "containsKey",
          "type": "static_call"
        },
        {
          "target": "ByEncounter.get",
          "class": "ByEncounter",
          "method": "get",
          "type": "static_call"
        },
        {
          "target": "ObservationInEncounter.getValueAsString",
          "class": "ObservationInEncounter",
          "method": "getValueAsString",
          "type": "static_call"
        },
        {
          "target": "StringUtils.isBlank",
          "class": "StringUtils",
          "method": "isBlank",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    private String computeValueForLeafObservation(BahmniObservation observation, Map<String, List<BahmniObservation>> observationsByEncounter, boolean allowMultiValue) {\n        String observationValue = null;\n        if (observationsByEncounter.containsKey(observation.getEncounterUuid())) {\n            List<BahmniObservation> observationsInEncounter = observationsByEncounter.get(observation.getEncounterUuid());\n            String multiSelectObsValue = \"\";\n            for (BahmniObservation bahmniObservationInEncounter : observationsInEncounter) {\n                if ( allowMultiValue && arePartOfMultiSelectObservation(observation,bahmniObservationInEncounter) ) {\n                    multiSelectObsValue = multiSelectObsValue + \",\" + bahmniObservationInEncounter.getValueAsString();\n                }\n            }\n            observationValue = StringUtils.isBlank(multiSelectObsValue)? observation.getValueAsString(): observation.getValueAsString() + multiSelectObsValue;\n        }\n        return observationValue;\n    }",
        "annotations": [],
        "signature": "private String computeValueForLeafObservation(BahmniObservation observation, Map<String, List<BahmniObservation>> observationsByEncounter, boolean allowMultiValue) {",
        "start_line": 78,
        "end_line": 91,
        "lines_of_code": 14
      }
    },
    "observationsByEncounter.containsKey": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.computeValueForLeafObservation"
      ],
      "source": {}
    },
    "observation.getEncounterUuid": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.computeValueForLeafObservation",
        "DiseaseSummaryObsMapper.computeValueForLeafObservation"
      ],
      "source": {}
    },
    "observationsByEncounter.get": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.computeValueForLeafObservation"
      ],
      "source": {}
    },
    "bahmniObservationInEncounter.getValueAsString": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.computeValueForLeafObservation"
      ],
      "source": {}
    },
    "StringUtils.isBlank": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.computeValueForLeafObservation",
        "DiseaseSummaryObsMapper.computeValueForLeafObservation",
        "DrugOrderDiseaseSummaryAggregator.getVisits",
        "DrugOrderDiseaseSummaryAggregator.getVisits",
        "LabDiseaseSummaryAggregator.getVisits",
        "LabDiseaseSummaryAggregator.getVisits",
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations",
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations"
      ],
      "source": {}
    },
    "observation.getValueAsString": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.computeValueForLeafObservation",
        "DiseaseSummaryObsMapper.computeValueForLeafObservation"
      ],
      "source": {}
    },
    "ByEncounter.containsKey": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.computeValueForLeafObservation"
      ],
      "source": {}
    },
    "ByEncounter.get": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.computeValueForLeafObservation"
      ],
      "source": {}
    },
    "ObservationInEncounter.getValueAsString": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.computeValueForLeafObservation"
      ],
      "source": {}
    },
    "DiseaseSummaryObsMapper.arePartOfMultiSelectObservation": {
      "calls": [
        {
          "target": "observation.getConcept",
          "object": "observation",
          "method": "getConcept",
          "type": "instance_call"
        },
        {
          "target": "observationInEncounter.getConcept",
          "object": "observationInEncounter",
          "method": "getConcept",
          "type": "instance_call"
        },
        {
          "target": "StringUtils.equals",
          "object": "StringUtils",
          "method": "equals",
          "type": "instance_call"
        },
        {
          "target": "observation.getObsGroupUuid",
          "object": "observation",
          "method": "getObsGroupUuid",
          "type": "instance_call"
        },
        {
          "target": "observationInEncounter.getObsGroupUuid",
          "object": "observationInEncounter",
          "method": "getObsGroupUuid",
          "type": "instance_call"
        },
        {
          "target": "observation.getUuid",
          "object": "observation",
          "method": "getUuid",
          "type": "instance_call"
        },
        {
          "target": "observationInEncounter.getUuid",
          "object": "observationInEncounter",
          "method": "getUuid",
          "type": "instance_call"
        },
        {
          "target": "InEncounter.getConcept",
          "class": "InEncounter",
          "method": "getConcept",
          "type": "static_call"
        },
        {
          "target": "StringUtils.equals",
          "class": "StringUtils",
          "method": "equals",
          "type": "static_call"
        },
        {
          "target": "InEncounter.getObsGroupUuid",
          "class": "InEncounter",
          "method": "getObsGroupUuid",
          "type": "static_call"
        },
        {
          "target": "InEncounter.getUuid",
          "class": "InEncounter",
          "method": "getUuid",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    private boolean arePartOfMultiSelectObservation(BahmniObservation observation,BahmniObservation observationInEncounter){\n        return observation.getConcept().getName().equals(observationInEncounter.getConcept().getName())\n                && StringUtils.equals(observation.getObsGroupUuid(),observationInEncounter.getObsGroupUuid())\n                && !observation.getUuid().equals(observationInEncounter.getUuid());\n    }",
        "annotations": [],
        "signature": "private boolean arePartOfMultiSelectObservation(BahmniObservation observation,BahmniObservation observationInEncounter){",
        "start_line": 93,
        "end_line": 97,
        "lines_of_code": 5
      }
    },
    "observation.getConcept": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.arePartOfMultiSelectObservation"
      ],
      "source": {}
    },
    "observationInEncounter.getConcept": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.arePartOfMultiSelectObservation"
      ],
      "source": {}
    },
    "StringUtils.equals": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.arePartOfMultiSelectObservation",
        "DiseaseSummaryObsMapper.arePartOfMultiSelectObservation"
      ],
      "source": {}
    },
    "observation.getObsGroupUuid": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.arePartOfMultiSelectObservation"
      ],
      "source": {}
    },
    "observationInEncounter.getObsGroupUuid": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.arePartOfMultiSelectObservation"
      ],
      "source": {}
    },
    "observation.getUuid": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.arePartOfMultiSelectObservation"
      ],
      "source": {}
    },
    "observationInEncounter.getUuid": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.arePartOfMultiSelectObservation"
      ],
      "source": {}
    },
    "InEncounter.getConcept": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.arePartOfMultiSelectObservation"
      ],
      "source": {}
    },
    "InEncounter.getObsGroupUuid": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.arePartOfMultiSelectObservation"
      ],
      "source": {}
    },
    "InEncounter.getUuid": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryObsMapper.arePartOfMultiSelectObservation"
      ],
      "source": {}
    },
    "DiseaseSummaryLabMapper.map": {
      "calls": [
        {
          "target": "RESULT_TABLE_GROUP_BY_ENCOUNTER.equals",
          "object": "RESULT_TABLE_GROUP_BY_ENCOUNTER",
          "method": "equals",
          "type": "instance_call"
        },
        {
          "target": "DateFormatUtils.format",
          "object": "DateFormatUtils",
          "method": "format",
          "type": "instance_call"
        },
        {
          "target": "labOrderResult.getAccessionDateTime",
          "object": "labOrderResult",
          "method": "getAccessionDateTime",
          "type": "instance_call"
        },
        {
          "target": "ISO_DATETIME_TIME_ZONE_FORMAT.getPattern",
          "object": "ISO_DATETIME_TIME_ZONE_FORMAT",
          "method": "getPattern",
          "type": "instance_call"
        },
        {
          "target": "DateFormatUtils.format",
          "object": "DateFormatUtils",
          "method": "format",
          "type": "instance_call"
        },
        {
          "target": "labOrderResult.getVisitStartTime",
          "object": "labOrderResult",
          "method": "getVisitStartTime",
          "type": "instance_call"
        },
        {
          "target": "ISO_DATETIME_TIME_ZONE_FORMAT.getPattern",
          "object": "ISO_DATETIME_TIME_ZONE_FORMAT",
          "method": "getPattern",
          "type": "instance_call"
        },
        {
          "target": "labOrderResult.getTestName",
          "object": "labOrderResult",
          "method": "getTestName",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryMap.put",
          "object": "diseaseSummaryMap",
          "method": "put",
          "type": "instance_call"
        },
        {
          "target": "labOrderResult.getResult",
          "object": "labOrderResult",
          "method": "getResult",
          "type": "instance_call"
        },
        {
          "target": "labOrderResult.getAbnormal",
          "object": "labOrderResult",
          "method": "getAbnormal",
          "type": "instance_call"
        },
        {
          "target": "RESULT_TABLE_GROUP_BY_ENCOUNTER.equals",
          "class": "RESULT_TABLE_GROUP_BY_ENCOUNTER",
          "method": "equals",
          "type": "static_call"
        },
        {
          "target": "DateFormatUtils.format",
          "class": "DateFormatUtils",
          "method": "format",
          "type": "static_call"
        },
        {
          "target": "OrderResult.getAccessionDateTime",
          "class": "OrderResult",
          "method": "getAccessionDateTime",
          "type": "static_call"
        },
        {
          "target": "ISO_DATETIME_TIME_ZONE_FORMAT.getPattern",
          "class": "ISO_DATETIME_TIME_ZONE_FORMAT",
          "method": "getPattern",
          "type": "static_call"
        },
        {
          "target": "DateFormatUtils.format",
          "class": "DateFormatUtils",
          "method": "format",
          "type": "static_call"
        },
        {
          "target": "OrderResult.getVisitStartTime",
          "class": "OrderResult",
          "method": "getVisitStartTime",
          "type": "static_call"
        },
        {
          "target": "ISO_DATETIME_TIME_ZONE_FORMAT.getPattern",
          "class": "ISO_DATETIME_TIME_ZONE_FORMAT",
          "method": "getPattern",
          "type": "static_call"
        },
        {
          "target": "OrderResult.getTestName",
          "class": "OrderResult",
          "method": "getTestName",
          "type": "static_call"
        },
        {
          "target": "SummaryMap.put",
          "class": "SummaryMap",
          "method": "put",
          "type": "static_call"
        },
        {
          "target": "OrderResult.getResult",
          "class": "OrderResult",
          "method": "getResult",
          "type": "static_call"
        },
        {
          "target": "OrderResult.getAbnormal",
          "class": "OrderResult",
          "method": "getAbnormal",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    public DiseaseSummaryMap map(List<LabOrderResult> labOrderResults, String groupBy) {\n        DiseaseSummaryMap diseaseSummaryMap = new DiseaseSummaryMap();\n        for (LabOrderResult labOrderResult : labOrderResults) {\n            String startDateTime = (DiseaseSummaryConstants.RESULT_TABLE_GROUP_BY_ENCOUNTER.equals(groupBy)) ?\n                    DateFormatUtils.format(labOrderResult.getAccessionDateTime(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern()) : DateFormatUtils.format(labOrderResult.getVisitStartTime(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern());\n            String conceptName = labOrderResult.getTestName();\n            if (conceptName != null) {\n                diseaseSummaryMap.put(startDateTime, conceptName, labOrderResult.getResult(), labOrderResult.getAbnormal(), true);\n            }\n        }\n        return diseaseSummaryMap;\n    }",
        "annotations": [],
        "signature": "public DiseaseSummaryMap map(List<LabOrderResult> labOrderResults, String groupBy) {",
        "start_line": 12,
        "end_line": 23,
        "lines_of_code": 12
      }
    },
    "labOrderResult.getAccessionDateTime": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryLabMapper.map"
      ],
      "source": {}
    },
    "labOrderResult.getVisitStartTime": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryLabMapper.map"
      ],
      "source": {}
    },
    "labOrderResult.getTestName": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryLabMapper.map",
        "LabDiseaseSummaryAggregator.findLabOrder"
      ],
      "source": {}
    },
    "labOrderResult.getResult": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryLabMapper.map"
      ],
      "source": {}
    },
    "labOrderResult.getAbnormal": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryLabMapper.map"
      ],
      "source": {}
    },
    "OrderResult.getAccessionDateTime": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryLabMapper.map"
      ],
      "source": {}
    },
    "OrderResult.getVisitStartTime": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryLabMapper.map"
      ],
      "source": {}
    },
    "OrderResult.getTestName": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryLabMapper.map",
        "LabDiseaseSummaryAggregator.findLabOrder"
      ],
      "source": {}
    },
    "OrderResult.getResult": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryLabMapper.map"
      ],
      "source": {}
    },
    "OrderResult.getAbnormal": {
      "calls": [],
      "called_by": [
        "DiseaseSummaryLabMapper.map"
      ],
      "source": {}
    },
    "DrugOrderDiseaseSummaryAggregator.aggregate": {
      "calls": [
        {
          "target": "bahmniConceptService.getConceptsByFullySpecifiedName",
          "object": "bahmniConceptService",
          "method": "getConceptsByFullySpecifiedName",
          "type": "instance_call"
        },
        {
          "target": "diseaseDataParams.getDrugConcepts",
          "object": "diseaseDataParams",
          "method": "getDrugConcepts",
          "type": "instance_call"
        },
        {
          "target": "concepts.isEmpty",
          "object": "concepts",
          "method": "isEmpty",
          "type": "instance_call"
        },
        {
          "target": "drugOrderService.getPrescribedDrugOrdersForConcepts",
          "object": "drugOrderService",
          "method": "getPrescribedDrugOrdersForConcepts",
          "type": "instance_call"
        },
        {
          "target": "diseaseDataParams.getStartDate",
          "object": "diseaseDataParams",
          "method": "getStartDate",
          "type": "instance_call"
        },
        {
          "target": "diseaseDataParams.getEndDate",
          "object": "diseaseDataParams",
          "method": "getEndDate",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryData.addTabularData",
          "object": "diseaseSummaryData",
          "method": "addTabularData",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryDrugOrderMapper.map",
          "object": "diseaseSummaryDrugOrderMapper",
          "method": "map",
          "type": "instance_call"
        },
        {
          "target": "diseaseDataParams.getGroupBy",
          "object": "diseaseDataParams",
          "method": "getGroupBy",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryData.addConceptDetails",
          "object": "diseaseSummaryData",
          "method": "addConceptDetails",
          "type": "instance_call"
        },
        {
          "target": "conceptHelper.getConceptDetails",
          "object": "conceptHelper",
          "method": "getConceptDetails",
          "type": "instance_call"
        },
        {
          "target": "ConceptService.getConceptsByFullySpecifiedName",
          "class": "ConceptService",
          "method": "getConceptsByFullySpecifiedName",
          "type": "static_call"
        },
        {
          "target": "DataParams.getDrugConcepts",
          "class": "DataParams",
          "method": "getDrugConcepts",
          "type": "static_call"
        },
        {
          "target": "OrderService.getPrescribedDrugOrdersForConcepts",
          "class": "OrderService",
          "method": "getPrescribedDrugOrdersForConcepts",
          "type": "static_call"
        },
        {
          "target": "DataParams.getStartDate",
          "class": "DataParams",
          "method": "getStartDate",
          "type": "static_call"
        },
        {
          "target": "DataParams.getEndDate",
          "class": "DataParams",
          "method": "getEndDate",
          "type": "static_call"
        },
        {
          "target": "SummaryData.addTabularData",
          "class": "SummaryData",
          "method": "addTabularData",
          "type": "static_call"
        },
        {
          "target": "SummaryDrugOrderMapper.map",
          "class": "SummaryDrugOrderMapper",
          "method": "map",
          "type": "static_call"
        },
        {
          "target": "DataParams.getGroupBy",
          "class": "DataParams",
          "method": "getGroupBy",
          "type": "static_call"
        },
        {
          "target": "SummaryData.addConceptDetails",
          "class": "SummaryData",
          "method": "addConceptDetails",
          "type": "static_call"
        },
        {
          "target": "Helper.getConceptDetails",
          "class": "Helper",
          "method": "getConceptDetails",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    public DiseaseSummaryData aggregate(Patient patient, DiseaseDataParams diseaseDataParams) {\n        DiseaseSummaryData diseaseSummaryData = new DiseaseSummaryData();\n        List<Concept> concepts = bahmniConceptService.getConceptsByFullySpecifiedName(diseaseDataParams.getDrugConcepts());\n        if (!concepts.isEmpty()) {\n            List<DrugOrder> drugOrders = drugOrderService.getPrescribedDrugOrdersForConcepts(patient, true, getVisits(patient, diseaseDataParams), concepts, diseaseDataParams.getStartDate(), diseaseDataParams.getEndDate() );\n            diseaseSummaryData.addTabularData(diseaseSummaryDrugOrderMapper.map(drugOrders, diseaseDataParams.getGroupBy()));\n            diseaseSummaryData.addConceptDetails(conceptHelper.getConceptDetails(concepts));\n        }\n        return diseaseSummaryData;\n    }",
        "annotations": [],
        "signature": "public DiseaseSummaryData aggregate(Patient patient, DiseaseDataParams diseaseDataParams) {",
        "start_line": 42,
        "end_line": 51,
        "lines_of_code": 10
      }
    },
    "bahmniConceptService.getConceptsByFullySpecifiedName": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate",
        "LabDiseaseSummaryAggregator.aggregate",
        "ObsDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "diseaseDataParams.getDrugConcepts": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "concepts.isEmpty": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate",
        "LabDiseaseSummaryAggregator.aggregate",
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations"
      ],
      "source": {}
    },
    "drugOrderService.getPrescribedDrugOrdersForConcepts": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "diseaseDataParams.getStartDate": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate",
        "LabDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "diseaseDataParams.getEndDate": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate",
        "LabDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "diseaseSummaryData.addTabularData": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate",
        "LabDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "diseaseSummaryDrugOrderMapper.map": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "diseaseDataParams.getGroupBy": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate",
        "LabDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "diseaseSummaryData.addConceptDetails": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate",
        "LabDiseaseSummaryAggregator.aggregate",
        "ObsDiseaseSummaryAggregator.constructDiseaseSummaryData"
      ],
      "source": {}
    },
    "conceptHelper.getConceptDetails": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "ConceptService.getConceptsByFullySpecifiedName": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate",
        "LabDiseaseSummaryAggregator.aggregate",
        "ObsDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "DataParams.getDrugConcepts": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "OrderService.getPrescribedDrugOrdersForConcepts": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "DataParams.getStartDate": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate",
        "LabDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "DataParams.getEndDate": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate",
        "LabDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "SummaryData.addTabularData": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate",
        "LabDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "SummaryDrugOrderMapper.map": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "DataParams.getGroupBy": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate",
        "LabDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "SummaryData.addConceptDetails": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate",
        "LabDiseaseSummaryAggregator.aggregate",
        "ObsDiseaseSummaryAggregator.constructDiseaseSummaryData"
      ],
      "source": {}
    },
    "Helper.getConceptDetails": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "DrugOrderDiseaseSummaryAggregator.getVisits": {
      "calls": [
        {
          "target": "StringUtils.isBlank",
          "object": "StringUtils",
          "method": "isBlank",
          "type": "instance_call"
        },
        {
          "target": "diseaseDataParams.getVisitUuid",
          "object": "diseaseDataParams",
          "method": "getVisitUuid",
          "type": "instance_call"
        },
        {
          "target": "visitDao.getVisitsByPatient",
          "object": "visitDao",
          "method": "getVisitsByPatient",
          "type": "instance_call"
        },
        {
          "target": "diseaseDataParams.getNumberOfVisits",
          "object": "diseaseDataParams",
          "method": "getNumberOfVisits",
          "type": "instance_call"
        },
        {
          "target": "visitService.getVisitByUuid",
          "object": "visitService",
          "method": "getVisitByUuid",
          "type": "instance_call"
        },
        {
          "target": "diseaseDataParams.getVisitUuid",
          "object": "diseaseDataParams",
          "method": "getVisitUuid",
          "type": "instance_call"
        },
        {
          "target": "StringUtils.isBlank",
          "class": "StringUtils",
          "method": "isBlank",
          "type": "static_call"
        },
        {
          "target": "DataParams.getVisitUuid",
          "class": "DataParams",
          "method": "getVisitUuid",
          "type": "static_call"
        },
        {
          "target": "Dao.getVisitsByPatient",
          "class": "Dao",
          "method": "getVisitsByPatient",
          "type": "static_call"
        },
        {
          "target": "DataParams.getNumberOfVisits",
          "class": "DataParams",
          "method": "getNumberOfVisits",
          "type": "static_call"
        },
        {
          "target": "Service.getVisitByUuid",
          "class": "Service",
          "method": "getVisitByUuid",
          "type": "static_call"
        },
        {
          "target": "DataParams.getVisitUuid",
          "class": "DataParams",
          "method": "getVisitUuid",
          "type": "static_call"
        },
        {
          "target": "DrugOrderDiseaseSummaryAggregator.add",
          "method": "add",
          "type": "local_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    private List<Visit> getVisits(Patient patient, final DiseaseDataParams diseaseDataParams) {\n        if (StringUtils.isBlank(diseaseDataParams.getVisitUuid())) {\n            return visitDao.getVisitsByPatient(patient, getNumberOfVisits(diseaseDataParams.getNumberOfVisits()));\n        }\n        return new ArrayList() {{\n            add(visitService.getVisitByUuid(diseaseDataParams.getVisitUuid()));\n        }};\n    }",
        "annotations": [],
        "signature": "private List<Visit> getVisits(Patient patient, final DiseaseDataParams diseaseDataParams) {",
        "start_line": 53,
        "end_line": 60,
        "lines_of_code": 8
      }
    },
    "diseaseDataParams.getVisitUuid": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.getVisits",
        "DrugOrderDiseaseSummaryAggregator.getVisits",
        "LabDiseaseSummaryAggregator.getVisits",
        "LabDiseaseSummaryAggregator.getVisits"
      ],
      "source": {}
    },
    "visitDao.getVisitsByPatient": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.getVisits",
        "LabDiseaseSummaryAggregator.getVisits"
      ],
      "source": {}
    },
    "diseaseDataParams.getNumberOfVisits": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.getVisits",
        "LabDiseaseSummaryAggregator.getVisits"
      ],
      "source": {}
    },
    "visitService.getVisitByUuid": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.getVisits",
        "LabDiseaseSummaryAggregator.getVisits"
      ],
      "source": {}
    },
    "DataParams.getVisitUuid": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.getVisits",
        "DrugOrderDiseaseSummaryAggregator.getVisits",
        "LabDiseaseSummaryAggregator.getVisits",
        "LabDiseaseSummaryAggregator.getVisits"
      ],
      "source": {}
    },
    "Dao.getVisitsByPatient": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.getVisits",
        "LabDiseaseSummaryAggregator.getVisits"
      ],
      "source": {}
    },
    "DataParams.getNumberOfVisits": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.getVisits",
        "LabDiseaseSummaryAggregator.getVisits"
      ],
      "source": {}
    },
    "Service.getVisitByUuid": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.getVisits",
        "LabDiseaseSummaryAggregator.getVisits"
      ],
      "source": {}
    },
    "DrugOrderDiseaseSummaryAggregator.add": {
      "calls": [],
      "called_by": [
        "DrugOrderDiseaseSummaryAggregator.getVisits"
      ],
      "source": {}
    },
    "DrugOrderDiseaseSummaryAggregator.getNumberOfVisits": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    private int getNumberOfVisits(Integer numberOfVisit) {\n        return null != numberOfVisit ? numberOfVisit : DEFAULT_VISIT_NUMBER;\n    }",
        "annotations": [],
        "signature": "private int getNumberOfVisits(Integer numberOfVisit) {",
        "start_line": 62,
        "end_line": 64,
        "lines_of_code": 3
      }
    },
    "LabDiseaseSummaryAggregator.aggregate": {
      "calls": [
        {
          "target": "bahmniConceptService.getConceptsByFullySpecifiedName",
          "object": "bahmniConceptService",
          "method": "getConceptsByFullySpecifiedName",
          "type": "instance_call"
        },
        {
          "target": "diseaseDataParams.getLabConcepts",
          "object": "diseaseDataParams",
          "method": "getLabConcepts",
          "type": "instance_call"
        },
        {
          "target": "concepts.isEmpty",
          "object": "concepts",
          "method": "isEmpty",
          "type": "instance_call"
        },
        {
          "target": "labOrderResultsService.getAllForConcepts",
          "object": "labOrderResultsService",
          "method": "getAllForConcepts",
          "type": "instance_call"
        },
        {
          "target": "diseaseDataParams.getLabConcepts",
          "object": "diseaseDataParams",
          "method": "getLabConcepts",
          "type": "instance_call"
        },
        {
          "target": "diseaseDataParams.getStartDate",
          "object": "diseaseDataParams",
          "method": "getStartDate",
          "type": "instance_call"
        },
        {
          "target": "diseaseDataParams.getEndDate",
          "object": "diseaseDataParams",
          "method": "getEndDate",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryData.addTabularData",
          "object": "diseaseSummaryData",
          "method": "addTabularData",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryLabMapper.map",
          "object": "diseaseSummaryLabMapper",
          "method": "map",
          "type": "instance_call"
        },
        {
          "target": "diseaseDataParams.getGroupBy",
          "object": "diseaseDataParams",
          "method": "getGroupBy",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryData.addConceptDetails",
          "object": "diseaseSummaryData",
          "method": "addConceptDetails",
          "type": "instance_call"
        },
        {
          "target": "conceptHelper.getLeafConceptDetails",
          "object": "conceptHelper",
          "method": "getLeafConceptDetails",
          "type": "instance_call"
        },
        {
          "target": "ConceptService.getConceptsByFullySpecifiedName",
          "class": "ConceptService",
          "method": "getConceptsByFullySpecifiedName",
          "type": "static_call"
        },
        {
          "target": "DataParams.getLabConcepts",
          "class": "DataParams",
          "method": "getLabConcepts",
          "type": "static_call"
        },
        {
          "target": "OrderResultsService.getAllForConcepts",
          "class": "OrderResultsService",
          "method": "getAllForConcepts",
          "type": "static_call"
        },
        {
          "target": "DataParams.getLabConcepts",
          "class": "DataParams",
          "method": "getLabConcepts",
          "type": "static_call"
        },
        {
          "target": "DataParams.getStartDate",
          "class": "DataParams",
          "method": "getStartDate",
          "type": "static_call"
        },
        {
          "target": "DataParams.getEndDate",
          "class": "DataParams",
          "method": "getEndDate",
          "type": "static_call"
        },
        {
          "target": "SummaryData.addTabularData",
          "class": "SummaryData",
          "method": "addTabularData",
          "type": "static_call"
        },
        {
          "target": "SummaryLabMapper.map",
          "class": "SummaryLabMapper",
          "method": "map",
          "type": "static_call"
        },
        {
          "target": "DataParams.getGroupBy",
          "class": "DataParams",
          "method": "getGroupBy",
          "type": "static_call"
        },
        {
          "target": "SummaryData.addConceptDetails",
          "class": "SummaryData",
          "method": "addConceptDetails",
          "type": "static_call"
        },
        {
          "target": "Helper.getLeafConceptDetails",
          "class": "Helper",
          "method": "getLeafConceptDetails",
          "type": "static_call"
        },
        {
          "target": "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal",
          "method": "mapLowNormalAndHiNormal",
          "type": "local_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    public DiseaseSummaryData aggregate(Patient patient, DiseaseDataParams diseaseDataParams) {\n        DiseaseSummaryData diseaseSummaryData =  new DiseaseSummaryData();\n        List<Concept> concepts = bahmniConceptService.getConceptsByFullySpecifiedName(diseaseDataParams.getLabConcepts());\n        if(!concepts.isEmpty()){\n            List<LabOrderResult> labOrderResults = labOrderResultsService.getAllForConcepts(patient, diseaseDataParams.getLabConcepts(), getVisits(patient, diseaseDataParams), diseaseDataParams.getStartDate(), diseaseDataParams.getEndDate());\n            diseaseSummaryData.addTabularData(diseaseSummaryLabMapper.map(labOrderResults, diseaseDataParams.getGroupBy()));\n            diseaseSummaryData.addConceptDetails(conceptHelper.getLeafConceptDetails(concepts, false));\n            mapLowNormalAndHiNormal(diseaseSummaryData, labOrderResults);\n        }\n        return diseaseSummaryData;\n    }",
        "annotations": [],
        "signature": "public DiseaseSummaryData aggregate(Patient patient, DiseaseDataParams diseaseDataParams) {",
        "start_line": 44,
        "end_line": 54,
        "lines_of_code": 11
      }
    },
    "diseaseDataParams.getLabConcepts": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.aggregate",
        "LabDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "labOrderResultsService.getAllForConcepts": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "diseaseSummaryLabMapper.map": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "conceptHelper.getLeafConceptDetails": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.aggregate",
        "ObsDiseaseSummaryAggregator.constructDiseaseSummaryData"
      ],
      "source": {}
    },
    "DataParams.getLabConcepts": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.aggregate",
        "LabDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "OrderResultsService.getAllForConcepts": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "SummaryLabMapper.map": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "Helper.getLeafConceptDetails": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.aggregate",
        "ObsDiseaseSummaryAggregator.constructDiseaseSummaryData"
      ],
      "source": {}
    },
    "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal": {
      "calls": [
        {
          "target": "diseaseSummaryData.getConceptDetails",
          "object": "diseaseSummaryData",
          "method": "getConceptDetails",
          "type": "instance_call"
        },
        {
          "target": "conceptDetails.getName",
          "object": "conceptDetails",
          "method": "getName",
          "type": "instance_call"
        },
        {
          "target": "conceptDetails.setHiNormal",
          "object": "conceptDetails",
          "method": "setHiNormal",
          "type": "instance_call"
        },
        {
          "target": "labOrderResult.getMaxNormal",
          "object": "labOrderResult",
          "method": "getMaxNormal",
          "type": "instance_call"
        },
        {
          "target": "conceptDetails.setLowNormal",
          "object": "conceptDetails",
          "method": "setLowNormal",
          "type": "instance_call"
        },
        {
          "target": "labOrderResult.getMinNormal",
          "object": "labOrderResult",
          "method": "getMinNormal",
          "type": "instance_call"
        },
        {
          "target": "conceptDetails.setUnits",
          "object": "conceptDetails",
          "method": "setUnits",
          "type": "instance_call"
        },
        {
          "target": "labOrderResult.getTestUnitOfMeasurement",
          "object": "labOrderResult",
          "method": "getTestUnitOfMeasurement",
          "type": "instance_call"
        },
        {
          "target": "labOrderResult.getTestUnitOfMeasurement",
          "object": "labOrderResult",
          "method": "getTestUnitOfMeasurement",
          "type": "instance_call"
        },
        {
          "target": "conceptDetails.getUnits",
          "object": "conceptDetails",
          "method": "getUnits",
          "type": "instance_call"
        },
        {
          "target": "SummaryData.getConceptDetails",
          "class": "SummaryData",
          "method": "getConceptDetails",
          "type": "static_call"
        },
        {
          "target": "Details.getName",
          "class": "Details",
          "method": "getName",
          "type": "static_call"
        },
        {
          "target": "Details.setHiNormal",
          "class": "Details",
          "method": "setHiNormal",
          "type": "static_call"
        },
        {
          "target": "OrderResult.getMaxNormal",
          "class": "OrderResult",
          "method": "getMaxNormal",
          "type": "static_call"
        },
        {
          "target": "Details.setLowNormal",
          "class": "Details",
          "method": "setLowNormal",
          "type": "static_call"
        },
        {
          "target": "OrderResult.getMinNormal",
          "class": "OrderResult",
          "method": "getMinNormal",
          "type": "static_call"
        },
        {
          "target": "Details.setUnits",
          "class": "Details",
          "method": "setUnits",
          "type": "static_call"
        },
        {
          "target": "OrderResult.getTestUnitOfMeasurement",
          "class": "OrderResult",
          "method": "getTestUnitOfMeasurement",
          "type": "static_call"
        },
        {
          "target": "OrderResult.getTestUnitOfMeasurement",
          "class": "OrderResult",
          "method": "getTestUnitOfMeasurement",
          "type": "static_call"
        },
        {
          "target": "Details.getUnits",
          "class": "Details",
          "method": "getUnits",
          "type": "static_call"
        }
      ],
      "called_by": [
        "LabDiseaseSummaryAggregator.aggregate"
      ],
      "source": {
        "source_code": "    private void mapLowNormalAndHiNormal(DiseaseSummaryData diseaseSummaryData, List<LabOrderResult> labOrderResults) {\n        for (ConceptDetails conceptDetails : diseaseSummaryData.getConceptDetails()) {\n            LabOrderResult labOrderResult = findLabOrder(conceptDetails.getName(), labOrderResults);\n            if (labOrderResult!= null){\n                conceptDetails.setHiNormal(labOrderResult.getMaxNormal());\n                conceptDetails.setLowNormal(labOrderResult.getMinNormal());\n                conceptDetails.setUnits(labOrderResult.getTestUnitOfMeasurement() != null ? labOrderResult.getTestUnitOfMeasurement() : conceptDetails.getUnits());\n            }\n        }\n\n    }",
        "annotations": [],
        "signature": "private void mapLowNormalAndHiNormal(DiseaseSummaryData diseaseSummaryData, List<LabOrderResult> labOrderResults) {",
        "start_line": 56,
        "end_line": 66,
        "lines_of_code": 11
      }
    },
    "conceptDetails.getName": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "conceptDetails.setHiNormal": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "labOrderResult.getMaxNormal": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "conceptDetails.setLowNormal": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "labOrderResult.getMinNormal": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "conceptDetails.setUnits": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "labOrderResult.getTestUnitOfMeasurement": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal",
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "conceptDetails.getUnits": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "Details.getName": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "Details.setHiNormal": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "OrderResult.getMaxNormal": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "Details.setLowNormal": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "OrderResult.getMinNormal": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "Details.setUnits": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "OrderResult.getTestUnitOfMeasurement": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal",
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "Details.getUnits": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.mapLowNormalAndHiNormal"
      ],
      "source": {}
    },
    "LabDiseaseSummaryAggregator.findLabOrder": {
      "calls": [
        {
          "target": "labOrderResult.getTestName",
          "object": "labOrderResult",
          "method": "getTestName",
          "type": "instance_call"
        },
        {
          "target": "OrderResult.getTestName",
          "class": "OrderResult",
          "method": "getTestName",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    private LabOrderResult findLabOrder(String name, List<LabOrderResult> labOrderResults) {\n        for (LabOrderResult labOrderResult : labOrderResults) {\n            if(labOrderResult.getTestName().equals(name)){\n                return labOrderResult;\n            }\n        }\n        return null;\n    }",
        "annotations": [],
        "signature": "private LabOrderResult findLabOrder(String name, List<LabOrderResult> labOrderResults) {",
        "start_line": 68,
        "end_line": 75,
        "lines_of_code": 8
      }
    },
    "LabDiseaseSummaryAggregator.getVisits": {
      "calls": [
        {
          "target": "StringUtils.isBlank",
          "object": "StringUtils",
          "method": "isBlank",
          "type": "instance_call"
        },
        {
          "target": "diseaseDataParams.getVisitUuid",
          "object": "diseaseDataParams",
          "method": "getVisitUuid",
          "type": "instance_call"
        },
        {
          "target": "visitDao.getVisitsByPatient",
          "object": "visitDao",
          "method": "getVisitsByPatient",
          "type": "instance_call"
        },
        {
          "target": "diseaseDataParams.getNumberOfVisits",
          "object": "diseaseDataParams",
          "method": "getNumberOfVisits",
          "type": "instance_call"
        },
        {
          "target": "visitService.getVisitByUuid",
          "object": "visitService",
          "method": "getVisitByUuid",
          "type": "instance_call"
        },
        {
          "target": "diseaseDataParams.getVisitUuid",
          "object": "diseaseDataParams",
          "method": "getVisitUuid",
          "type": "instance_call"
        },
        {
          "target": "StringUtils.isBlank",
          "class": "StringUtils",
          "method": "isBlank",
          "type": "static_call"
        },
        {
          "target": "DataParams.getVisitUuid",
          "class": "DataParams",
          "method": "getVisitUuid",
          "type": "static_call"
        },
        {
          "target": "Dao.getVisitsByPatient",
          "class": "Dao",
          "method": "getVisitsByPatient",
          "type": "static_call"
        },
        {
          "target": "DataParams.getNumberOfVisits",
          "class": "DataParams",
          "method": "getNumberOfVisits",
          "type": "static_call"
        },
        {
          "target": "Service.getVisitByUuid",
          "class": "Service",
          "method": "getVisitByUuid",
          "type": "static_call"
        },
        {
          "target": "DataParams.getVisitUuid",
          "class": "DataParams",
          "method": "getVisitUuid",
          "type": "static_call"
        },
        {
          "target": "LabDiseaseSummaryAggregator.add",
          "method": "add",
          "type": "local_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    private List<Visit> getVisits(Patient patient, final DiseaseDataParams diseaseDataParams) {\n        if(StringUtils.isBlank(diseaseDataParams.getVisitUuid())){\n            return visitDao.getVisitsByPatient(patient, getNumberOfVisits(diseaseDataParams.getNumberOfVisits()));\n        }\n        return new ArrayList() {{\n            add(visitService.getVisitByUuid(diseaseDataParams.getVisitUuid()));\n        }};\n    }",
        "annotations": [],
        "signature": "private List<Visit> getVisits(Patient patient, final DiseaseDataParams diseaseDataParams) {",
        "start_line": 77,
        "end_line": 84,
        "lines_of_code": 8
      }
    },
    "LabDiseaseSummaryAggregator.add": {
      "calls": [],
      "called_by": [
        "LabDiseaseSummaryAggregator.getVisits"
      ],
      "source": {}
    },
    "LabDiseaseSummaryAggregator.getNumberOfVisits": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    private int getNumberOfVisits(Integer numberOfVisit) {\n        return null != numberOfVisit ? numberOfVisit : DEFAULT_VISIT_NUMBER;\n    }",
        "annotations": [],
        "signature": "private int getNumberOfVisits(Integer numberOfVisit) {",
        "start_line": 86,
        "end_line": 88,
        "lines_of_code": 3
      }
    },
    "ObsDiseaseSummaryAggregator.aggregate": {
      "calls": [
        {
          "target": "bahmniConceptService.getConceptsByFullySpecifiedName",
          "object": "bahmniConceptService",
          "method": "getConceptsByFullySpecifiedName",
          "type": "instance_call"
        },
        {
          "target": "queryParams.getObsConcepts",
          "object": "queryParams",
          "method": "getObsConcepts",
          "type": "instance_call"
        },
        {
          "target": "bahmniObservations.forEach",
          "object": "bahmniObservations",
          "method": "forEach",
          "type": "instance_call"
        },
        {
          "target": "bahmniObservation.setAbnormal",
          "object": "bahmniObservation",
          "method": "setAbnormal",
          "type": "instance_call"
        },
        {
          "target": "bahmniObservation.getInterpretation",
          "object": "bahmniObservation",
          "method": "getInterpretation",
          "type": "instance_call"
        },
        {
          "target": "bahmniObservation.getInterpretation",
          "object": "bahmniObservation",
          "method": "getInterpretation",
          "type": "instance_call"
        },
        {
          "target": "String.valueOf",
          "object": "String",
          "method": "valueOf",
          "type": "instance_call"
        },
        {
          "target": "queryParams.getGroupBy",
          "object": "queryParams",
          "method": "getGroupBy",
          "type": "instance_call"
        },
        {
          "target": "ConceptService.getConceptsByFullySpecifiedName",
          "class": "ConceptService",
          "method": "getConceptsByFullySpecifiedName",
          "type": "static_call"
        },
        {
          "target": "Params.getObsConcepts",
          "class": "Params",
          "method": "getObsConcepts",
          "type": "static_call"
        },
        {
          "target": "Observations.forEach",
          "class": "Observations",
          "method": "forEach",
          "type": "static_call"
        },
        {
          "target": "Observation.setAbnormal",
          "class": "Observation",
          "method": "setAbnormal",
          "type": "static_call"
        },
        {
          "target": "Observation.getInterpretation",
          "class": "Observation",
          "method": "getInterpretation",
          "type": "static_call"
        },
        {
          "target": "Observation.getInterpretation",
          "class": "Observation",
          "method": "getInterpretation",
          "type": "static_call"
        },
        {
          "target": "String.valueOf",
          "class": "String",
          "method": "valueOf",
          "type": "static_call"
        },
        {
          "target": "Params.getGroupBy",
          "class": "Params",
          "method": "getGroupBy",
          "type": "static_call"
        },
        {
          "target": "ObsDiseaseSummaryAggregator.constructDiseaseSummaryData",
          "method": "constructDiseaseSummaryData",
          "type": "local_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    public DiseaseSummaryData aggregate(Patient patient, DiseaseDataParams queryParams) {\n        DiseaseSummaryData diseaseSummaryData = new DiseaseSummaryData();\n        List<Concept> concepts = bahmniConceptService.getConceptsByFullySpecifiedName(queryParams.getObsConcepts());\n        Collection<BahmniObservation> bahmniObservations = fetchBahmniObservations(patient, queryParams, concepts);\n        bahmniObservations.forEach(bahmniObservation -> bahmniObservation.setAbnormal((bahmniObservation.getInterpretation() != null && bahmniObservation.getInterpretation().equals(String.valueOf(Obs.Interpretation.ABNORMAL)))));\n        constructDiseaseSummaryData(bahmniObservations, concepts, queryParams.getGroupBy(), diseaseSummaryData);\n        return diseaseSummaryData;\n    }",
        "annotations": [],
        "signature": "public DiseaseSummaryData aggregate(Patient patient, DiseaseDataParams queryParams) {",
        "start_line": 38,
        "end_line": 45,
        "lines_of_code": 8
      }
    },
    "queryParams.getObsConcepts": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.aggregate",
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations"
      ],
      "source": {}
    },
    "bahmniObservations.forEach": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "bahmniObservation.setAbnormal": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "bahmniObservation.getInterpretation": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.aggregate",
        "ObsDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "String.valueOf": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.aggregate",
        "ObsDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "queryParams.getGroupBy": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "Params.getObsConcepts": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.aggregate",
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations"
      ],
      "source": {}
    },
    "Observations.forEach": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "Observation.setAbnormal": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "Observation.getInterpretation": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.aggregate",
        "ObsDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "Params.getGroupBy": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.aggregate"
      ],
      "source": {}
    },
    "ObsDiseaseSummaryAggregator.constructDiseaseSummaryData": {
      "calls": [
        {
          "target": "diseaseSummaryData.setTabularData",
          "object": "diseaseSummaryData",
          "method": "setTabularData",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryObsMapper.map",
          "object": "diseaseSummaryObsMapper",
          "method": "map",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryData.addConceptDetails",
          "object": "diseaseSummaryData",
          "method": "addConceptDetails",
          "type": "instance_call"
        },
        {
          "target": "conceptHelper.getLeafConceptDetails",
          "object": "conceptHelper",
          "method": "getLeafConceptDetails",
          "type": "instance_call"
        },
        {
          "target": "SummaryData.setTabularData",
          "class": "SummaryData",
          "method": "setTabularData",
          "type": "static_call"
        },
        {
          "target": "SummaryObsMapper.map",
          "class": "SummaryObsMapper",
          "method": "map",
          "type": "static_call"
        },
        {
          "target": "SummaryData.addConceptDetails",
          "class": "SummaryData",
          "method": "addConceptDetails",
          "type": "static_call"
        },
        {
          "target": "Helper.getLeafConceptDetails",
          "class": "Helper",
          "method": "getLeafConceptDetails",
          "type": "static_call"
        }
      ],
      "called_by": [
        "ObsDiseaseSummaryAggregator.aggregate"
      ],
      "source": {
        "source_code": "    private void constructDiseaseSummaryData(Collection<BahmniObservation> bahmniObservations, List<Concept> concepts, String groupBy, DiseaseSummaryData diseaseSummaryData) {\n        diseaseSummaryData.setTabularData(diseaseSummaryObsMapper.map(bahmniObservations, groupBy));\n        diseaseSummaryData.addConceptDetails(conceptHelper.getLeafConceptDetails(concepts, false));\n    }",
        "annotations": [],
        "signature": "private void constructDiseaseSummaryData(Collection<BahmniObservation> bahmniObservations, List<Concept> concepts, String groupBy, DiseaseSummaryData diseaseSummaryData) {",
        "start_line": 67,
        "end_line": 70,
        "lines_of_code": 4
      }
    },
    "ObsDiseaseSummaryAggregator.fetchBahmniObservations": {
      "calls": [
        {
          "target": "StringUtils.isBlank",
          "object": "StringUtils",
          "method": "isBlank",
          "type": "instance_call"
        },
        {
          "target": "queryParams.getVisitUuid",
          "object": "queryParams",
          "method": "getVisitUuid",
          "type": "instance_call"
        },
        {
          "target": "concepts.isEmpty",
          "object": "concepts",
          "method": "isEmpty",
          "type": "instance_call"
        },
        {
          "target": "bahmniObsService.observationsFor",
          "object": "bahmniObsService",
          "method": "observationsFor",
          "type": "instance_call"
        },
        {
          "target": "patient.getUuid",
          "object": "patient",
          "method": "getUuid",
          "type": "instance_call"
        },
        {
          "target": "queryParams.getNumberOfVisits",
          "object": "queryParams",
          "method": "getNumberOfVisits",
          "type": "instance_call"
        },
        {
          "target": "queryParams.getStartDate",
          "object": "queryParams",
          "method": "getStartDate",
          "type": "instance_call"
        },
        {
          "target": "queryParams.getEndDate",
          "object": "queryParams",
          "method": "getEndDate",
          "type": "instance_call"
        },
        {
          "target": "bahmniObsService.getObservationForVisit",
          "object": "bahmniObsService",
          "method": "getObservationForVisit",
          "type": "instance_call"
        },
        {
          "target": "queryParams.getVisitUuid",
          "object": "queryParams",
          "method": "getVisitUuid",
          "type": "instance_call"
        },
        {
          "target": "queryParams.getObsConcepts",
          "object": "queryParams",
          "method": "getObsConcepts",
          "type": "instance_call"
        },
        {
          "target": "StringUtils.isBlank",
          "class": "StringUtils",
          "method": "isBlank",
          "type": "static_call"
        },
        {
          "target": "Params.getVisitUuid",
          "class": "Params",
          "method": "getVisitUuid",
          "type": "static_call"
        },
        {
          "target": "ObsService.observationsFor",
          "class": "ObsService",
          "method": "observationsFor",
          "type": "static_call"
        },
        {
          "target": "Params.getNumberOfVisits",
          "class": "Params",
          "method": "getNumberOfVisits",
          "type": "static_call"
        },
        {
          "target": "Params.getStartDate",
          "class": "Params",
          "method": "getStartDate",
          "type": "static_call"
        },
        {
          "target": "Params.getEndDate",
          "class": "Params",
          "method": "getEndDate",
          "type": "static_call"
        },
        {
          "target": "ObsService.getObservationForVisit",
          "class": "ObsService",
          "method": "getObservationForVisit",
          "type": "static_call"
        },
        {
          "target": "Params.getVisitUuid",
          "class": "Params",
          "method": "getVisitUuid",
          "type": "static_call"
        },
        {
          "target": "Params.getObsConcepts",
          "class": "Params",
          "method": "getObsConcepts",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    private Collection<BahmniObservation> fetchBahmniObservations(Patient patient, DiseaseDataParams queryParams, List<Concept> concepts) {\n        if (StringUtils.isBlank(queryParams.getVisitUuid())) {\n            if (!concepts.isEmpty()) {\n                return bahmniObsService.observationsFor(patient.getUuid(), concepts, queryParams.getNumberOfVisits(), null, false, null, queryParams.getStartDate(), queryParams.getEndDate());\n            }\n            return Collections.EMPTY_LIST;\n        }\n        return filterObservationsLinkedWithOrders(bahmniObsService.getObservationForVisit(queryParams.getVisitUuid(), queryParams.getObsConcepts(), null,  false, null));\n    }",
        "annotations": [],
        "signature": "private Collection<BahmniObservation> fetchBahmniObservations(Patient patient, DiseaseDataParams queryParams, List<Concept> concepts) {",
        "start_line": 47,
        "end_line": 55,
        "lines_of_code": 9
      }
    },
    "queryParams.getVisitUuid": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations",
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations"
      ],
      "source": {}
    },
    "bahmniObsService.observationsFor": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations"
      ],
      "source": {}
    },
    "patient.getUuid": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations"
      ],
      "source": {}
    },
    "queryParams.getNumberOfVisits": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations"
      ],
      "source": {}
    },
    "queryParams.getStartDate": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations"
      ],
      "source": {}
    },
    "queryParams.getEndDate": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations"
      ],
      "source": {}
    },
    "bahmniObsService.getObservationForVisit": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations"
      ],
      "source": {}
    },
    "Params.getVisitUuid": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations",
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations"
      ],
      "source": {}
    },
    "ObsService.observationsFor": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations"
      ],
      "source": {}
    },
    "Params.getNumberOfVisits": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations"
      ],
      "source": {}
    },
    "Params.getStartDate": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations"
      ],
      "source": {}
    },
    "Params.getEndDate": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations"
      ],
      "source": {}
    },
    "ObsService.getObservationForVisit": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.fetchBahmniObservations"
      ],
      "source": {}
    },
    "ObsDiseaseSummaryAggregator.filterObservationsLinkedWithOrders": {
      "calls": [
        {
          "target": "CollectionUtils.filter",
          "object": "CollectionUtils",
          "method": "filter",
          "type": "instance_call"
        },
        {
          "target": "CollectionUtils.filter",
          "class": "CollectionUtils",
          "method": "filter",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    private Collection<BahmniObservation> filterObservationsLinkedWithOrders(Collection<BahmniObservation> bahmniObservations) {\n        CollectionUtils.filter(bahmniObservations,new Predicate() {\n            @Override\n            public boolean evaluate(Object bahmniObservation) {\n                return ((BahmniObservation)bahmniObservation).getOrderUuid() == null;\n            }\n        });\n        return bahmniObservations;\n    }",
        "annotations": [],
        "signature": "private Collection<BahmniObservation> filterObservationsLinkedWithOrders(Collection<BahmniObservation> bahmniObservations) {",
        "start_line": 57,
        "end_line": 65,
        "lines_of_code": 9
      }
    },
    "CollectionUtils.filter": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.filterObservationsLinkedWithOrders",
        "ObsDiseaseSummaryAggregator.filterObservationsLinkedWithOrders"
      ],
      "source": {}
    },
    "diseaseSummaryData.setTabularData": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.constructDiseaseSummaryData",
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary"
      ],
      "source": {}
    },
    "diseaseSummaryObsMapper.map": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.constructDiseaseSummaryData"
      ],
      "source": {}
    },
    "SummaryData.setTabularData": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.constructDiseaseSummaryData",
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary"
      ],
      "source": {}
    },
    "SummaryObsMapper.map": {
      "calls": [],
      "called_by": [
        "ObsDiseaseSummaryAggregator.constructDiseaseSummaryData"
      ],
      "source": {}
    },
    "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary": {
      "calls": [
        {
          "target": "patientService.getPatientByUuid",
          "object": "patientService",
          "method": "getPatientByUuid",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryData.concat",
          "object": "diseaseSummaryData",
          "method": "concat",
          "type": "instance_call"
        },
        {
          "target": "obsDiseaseSummaryAggregator.aggregate",
          "object": "obsDiseaseSummaryAggregator",
          "method": "aggregate",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryData.concat",
          "object": "diseaseSummaryData",
          "method": "concat",
          "type": "instance_call"
        },
        {
          "target": "labDiseaseSummaryAggregator.aggregate",
          "object": "labDiseaseSummaryAggregator",
          "method": "aggregate",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryData.concat",
          "object": "diseaseSummaryData",
          "method": "concat",
          "type": "instance_call"
        },
        {
          "target": "drugOrderDiseaseSummaryAggregator.aggregate",
          "object": "drugOrderDiseaseSummaryAggregator",
          "method": "aggregate",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryData.setTabularData",
          "object": "diseaseSummaryData",
          "method": "setTabularData",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryData.getTabularData",
          "object": "diseaseSummaryData",
          "method": "getTabularData",
          "type": "instance_call"
        },
        {
          "target": "queryParams.getInitialCount",
          "object": "queryParams",
          "method": "getInitialCount",
          "type": "instance_call"
        },
        {
          "target": "queryParams.getLatestCount",
          "object": "queryParams",
          "method": "getLatestCount",
          "type": "instance_call"
        },
        {
          "target": "Service.getPatientByUuid",
          "class": "Service",
          "method": "getPatientByUuid",
          "type": "static_call"
        },
        {
          "target": "SummaryData.concat",
          "class": "SummaryData",
          "method": "concat",
          "type": "static_call"
        },
        {
          "target": "DiseaseSummaryAggregator.aggregate",
          "class": "DiseaseSummaryAggregator",
          "method": "aggregate",
          "type": "static_call"
        },
        {
          "target": "SummaryData.concat",
          "class": "SummaryData",
          "method": "concat",
          "type": "static_call"
        },
        {
          "target": "DiseaseSummaryAggregator.aggregate",
          "class": "DiseaseSummaryAggregator",
          "method": "aggregate",
          "type": "static_call"
        },
        {
          "target": "SummaryData.concat",
          "class": "SummaryData",
          "method": "concat",
          "type": "static_call"
        },
        {
          "target": "OrderDiseaseSummaryAggregator.aggregate",
          "class": "OrderDiseaseSummaryAggregator",
          "method": "aggregate",
          "type": "static_call"
        },
        {
          "target": "SummaryData.setTabularData",
          "class": "SummaryData",
          "method": "setTabularData",
          "type": "static_call"
        },
        {
          "target": "SummaryData.getTabularData",
          "class": "SummaryData",
          "method": "getTabularData",
          "type": "static_call"
        },
        {
          "target": "Params.getInitialCount",
          "class": "Params",
          "method": "getInitialCount",
          "type": "static_call"
        },
        {
          "target": "Params.getLatestCount",
          "class": "Params",
          "method": "getLatestCount",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    @Override\n    @Transactional(readOnly = true)\n    public DiseaseSummaryData getDiseaseSummary(String patientUuid, DiseaseDataParams queryParams) {\n        DiseaseSummaryData diseaseSummaryData = new DiseaseSummaryData();\n\n        Patient patient = patientService.getPatientByUuid(patientUuid);\n\n        diseaseSummaryData.concat(obsDiseaseSummaryAggregator.aggregate(patient, queryParams));\n        diseaseSummaryData.concat(labDiseaseSummaryAggregator.aggregate(patient, queryParams));\n        diseaseSummaryData.concat(drugOrderDiseaseSummaryAggregator.aggregate(patient, queryParams));\n        diseaseSummaryData.setTabularData(filterDataByCount(diseaseSummaryData.getTabularData(), queryParams.getInitialCount(), queryParams.getLatestCount()));\n        return diseaseSummaryData;\n    }",
        "annotations": [],
        "signature": "@Override",
        "start_line": 43,
        "end_line": 55,
        "lines_of_code": 13
      }
    },
    "patientService.getPatientByUuid": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary"
      ],
      "source": {}
    },
    "diseaseSummaryData.concat": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary",
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary",
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary"
      ],
      "source": {}
    },
    "obsDiseaseSummaryAggregator.aggregate": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary"
      ],
      "source": {}
    },
    "labDiseaseSummaryAggregator.aggregate": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary"
      ],
      "source": {}
    },
    "drugOrderDiseaseSummaryAggregator.aggregate": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary"
      ],
      "source": {}
    },
    "queryParams.getInitialCount": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary"
      ],
      "source": {}
    },
    "queryParams.getLatestCount": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary"
      ],
      "source": {}
    },
    "Service.getPatientByUuid": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary"
      ],
      "source": {}
    },
    "SummaryData.concat": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary",
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary",
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary"
      ],
      "source": {}
    },
    "DiseaseSummaryAggregator.aggregate": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary",
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary"
      ],
      "source": {}
    },
    "OrderDiseaseSummaryAggregator.aggregate": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary"
      ],
      "source": {}
    },
    "Params.getInitialCount": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary"
      ],
      "source": {}
    },
    "Params.getLatestCount": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.getDiseaseSummary"
      ],
      "source": {}
    },
    "BahmniDiseaseSummaryServiceImpl.filterDataByCount": {
      "calls": [
        {
          "target": "diseaseSummaryMap.size",
          "object": "diseaseSummaryMap",
          "method": "size",
          "type": "instance_call"
        },
        {
          "target": "summaryMap.putAll",
          "object": "summaryMap",
          "method": "putAll",
          "type": "instance_call"
        },
        {
          "target": "summaryMap.putAll",
          "object": "summaryMap",
          "method": "putAll",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryMap.size",
          "object": "diseaseSummaryMap",
          "method": "size",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryMap.size",
          "object": "diseaseSummaryMap",
          "method": "size",
          "type": "instance_call"
        },
        {
          "target": "SummaryMap.size",
          "class": "SummaryMap",
          "method": "size",
          "type": "static_call"
        },
        {
          "target": "Map.putAll",
          "class": "Map",
          "method": "putAll",
          "type": "static_call"
        },
        {
          "target": "Map.putAll",
          "class": "Map",
          "method": "putAll",
          "type": "static_call"
        },
        {
          "target": "SummaryMap.size",
          "class": "SummaryMap",
          "method": "size",
          "type": "static_call"
        },
        {
          "target": "SummaryMap.size",
          "class": "SummaryMap",
          "method": "size",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    private DiseaseSummaryMap filterDataByCount(DiseaseSummaryMap diseaseSummaryMap, Integer initialCount, Integer latestCount) {\n        if(initialCount == null && latestCount == null) return filter(diseaseSummaryMap, 0, diseaseSummaryMap.size());\n        DiseaseSummaryMap summaryMap = new DiseaseSummaryMap();\n        summaryMap.putAll(filter(diseaseSummaryMap, 0, getIntegerValue(latestCount)));\n        summaryMap.putAll(filter(diseaseSummaryMap, diseaseSummaryMap.size() - getIntegerValue(initialCount), diseaseSummaryMap.size()));\n\n        return summaryMap;\n    }",
        "annotations": [],
        "signature": "private DiseaseSummaryMap filterDataByCount(DiseaseSummaryMap diseaseSummaryMap, Integer initialCount, Integer latestCount) {",
        "start_line": 57,
        "end_line": 64,
        "lines_of_code": 8
      }
    },
    "diseaseSummaryMap.size": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.filterDataByCount",
        "BahmniDiseaseSummaryServiceImpl.filterDataByCount",
        "BahmniDiseaseSummaryServiceImpl.filterDataByCount",
        "BahmniDiseaseSummaryServiceImpl.filter",
        "BahmniDiseaseSummaryServiceImpl.filter",
        "BahmniDiseaseSummaryServiceImpl.filter"
      ],
      "source": {}
    },
    "summaryMap.putAll": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.filterDataByCount",
        "BahmniDiseaseSummaryServiceImpl.filterDataByCount"
      ],
      "source": {}
    },
    "SummaryMap.size": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.filterDataByCount",
        "BahmniDiseaseSummaryServiceImpl.filterDataByCount",
        "BahmniDiseaseSummaryServiceImpl.filterDataByCount",
        "BahmniDiseaseSummaryServiceImpl.filter",
        "BahmniDiseaseSummaryServiceImpl.filter",
        "BahmniDiseaseSummaryServiceImpl.filter"
      ],
      "source": {}
    },
    "Map.putAll": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.filterDataByCount",
        "BahmniDiseaseSummaryServiceImpl.filterDataByCount"
      ],
      "source": {}
    },
    "BahmniDiseaseSummaryServiceImpl.filter": {
      "calls": [
        {
          "target": "diseaseSummaryMap.size",
          "object": "diseaseSummaryMap",
          "method": "size",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryMap.size",
          "object": "diseaseSummaryMap",
          "method": "size",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryMap.size",
          "object": "diseaseSummaryMap",
          "method": "size",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryMap.keySet",
          "object": "diseaseSummaryMap",
          "method": "keySet",
          "type": "instance_call"
        },
        {
          "target": "summaryMapKeys.get",
          "object": "summaryMapKeys",
          "method": "get",
          "type": "instance_call"
        },
        {
          "target": "summaryMap.put",
          "object": "summaryMap",
          "method": "put",
          "type": "instance_call"
        },
        {
          "target": "diseaseSummaryMap.get",
          "object": "diseaseSummaryMap",
          "method": "get",
          "type": "instance_call"
        },
        {
          "target": "SummaryMap.size",
          "class": "SummaryMap",
          "method": "size",
          "type": "static_call"
        },
        {
          "target": "SummaryMap.size",
          "class": "SummaryMap",
          "method": "size",
          "type": "static_call"
        },
        {
          "target": "SummaryMap.size",
          "class": "SummaryMap",
          "method": "size",
          "type": "static_call"
        },
        {
          "target": "SummaryMap.keySet",
          "class": "SummaryMap",
          "method": "keySet",
          "type": "static_call"
        },
        {
          "target": "MapKeys.get",
          "class": "MapKeys",
          "method": "get",
          "type": "static_call"
        },
        {
          "target": "Map.put",
          "class": "Map",
          "method": "put",
          "type": "static_call"
        },
        {
          "target": "SummaryMap.get",
          "class": "SummaryMap",
          "method": "get",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    private DiseaseSummaryMap filter(DiseaseSummaryMap diseaseSummaryMap, int fromIndex, int toIndex) {\n        DiseaseSummaryMap summaryMap = new DiseaseSummaryMap();\n        fromIndex = (fromIndex > diseaseSummaryMap.size() || fromIndex < 0) ? 0 : fromIndex;\n        toIndex = (toIndex > diseaseSummaryMap.size()) ? diseaseSummaryMap.size() : toIndex;\n\n        List<String> summaryMapKeys = sortByDate(diseaseSummaryMap.keySet());\n        for(int index=fromIndex; index<toIndex; index++) {\n            String visitStartDateTime = summaryMapKeys.get(index);\n            summaryMap.put(visitStartDateTime, diseaseSummaryMap.get(visitStartDateTime));\n        }\n        return summaryMap;\n    }",
        "annotations": [],
        "signature": "private DiseaseSummaryMap filter(DiseaseSummaryMap diseaseSummaryMap, int fromIndex, int toIndex) {",
        "start_line": 66,
        "end_line": 77,
        "lines_of_code": 12
      }
    },
    "diseaseSummaryMap.keySet": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.filter"
      ],
      "source": {}
    },
    "summaryMapKeys.get": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.filter"
      ],
      "source": {}
    },
    "summaryMap.put": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.filter"
      ],
      "source": {}
    },
    "diseaseSummaryMap.get": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.filter"
      ],
      "source": {}
    },
    "SummaryMap.keySet": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.filter"
      ],
      "source": {}
    },
    "MapKeys.get": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.filter"
      ],
      "source": {}
    },
    "Map.put": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.filter"
      ],
      "source": {}
    },
    "SummaryMap.get": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.filter"
      ],
      "source": {}
    },
    "BahmniDiseaseSummaryServiceImpl.sortByDate": {
      "calls": [
        {
          "target": "Collections.sort",
          "object": "Collections",
          "method": "sort",
          "type": "instance_call"
        },
        {
          "target": "Collections.sort",
          "class": "Collections",
          "method": "sort",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    private List<String> sortByDate(Set<String> dataSet) {\n        List<String> sortedList = new ArrayList<>(dataSet);\n        Collections.sort(sortedList, new Comparator<String>() {\n            public int compare(String o1, String o2) {\n                return convertToDate(o2).compareTo(convertToDate(o1));\n            }\n        });\n        return sortedList;\n    }",
        "annotations": [],
        "signature": "private List<String> sortByDate(Set<String> dataSet) {",
        "start_line": 79,
        "end_line": 87,
        "lines_of_code": 9
      }
    },
    "Collections.sort": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.sortByDate",
        "BahmniDiseaseSummaryServiceImpl.sortByDate"
      ],
      "source": {}
    },
    "BahmniDiseaseSummaryServiceImpl.convertToDate": {
      "calls": [
        {
          "target": "DateUtils.parseDate",
          "object": "DateUtils",
          "method": "parseDate",
          "type": "instance_call"
        },
        {
          "target": "ISO_DATETIME_TIME_ZONE_FORMAT.getPattern",
          "object": "ISO_DATETIME_TIME_ZONE_FORMAT",
          "method": "getPattern",
          "type": "instance_call"
        },
        {
          "target": "e.printStackTrace",
          "object": "e",
          "method": "printStackTrace",
          "type": "instance_call"
        },
        {
          "target": "DateUtils.parseDate",
          "class": "DateUtils",
          "method": "parseDate",
          "type": "static_call"
        },
        {
          "target": "ISO_DATETIME_TIME_ZONE_FORMAT.getPattern",
          "class": "ISO_DATETIME_TIME_ZONE_FORMAT",
          "method": "getPattern",
          "type": "static_call"
        }
      ],
      "called_by": [],
      "source": {
        "source_code": "    private Date convertToDate(String dateString) {\n        Date startDate = null;\n        try {\n            startDate = DateUtils.parseDate(dateString, DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern());\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n        return startDate;\n    }",
        "annotations": [],
        "signature": "private Date convertToDate(String dateString) {",
        "start_line": 89,
        "end_line": 97,
        "lines_of_code": 9
      }
    },
    "DateUtils.parseDate": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.convertToDate",
        "BahmniDiseaseSummaryServiceImpl.convertToDate"
      ],
      "source": {}
    },
    "e.printStackTrace": {
      "calls": [],
      "called_by": [
        "BahmniDiseaseSummaryServiceImpl.convertToDate"
      ],
      "source": {}
    },
    "BahmniDiseaseSummaryServiceImpl.getIntegerValue": {
      "calls": [],
      "called_by": [],
      "source": {
        "source_code": "    private int getIntegerValue(Integer value) {\n        if(value == null) return 0;\n        return value;\n    }",
        "annotations": [],
        "signature": "private int getIntegerValue(Integer value) {",
        "start_line": 99,
        "end_line": 102,
        "lines_of_code": 4
      }
    }
  },
  "classes": {
    "DiseaseSummaryData": {
      "dependencies": [
        "Set",
        "LinkedHashSet",
        "Map",
        "ConceptDetails",
        "LinkedHashMap"
      ],
      "component_type": "unknown",
      "source": {
        "source_code": "class DiseaseSummaryData {\n\n    private DiseaseSummaryMap tabularData = new DiseaseSummaryMap();\n    private Set<ConceptDetails> conceptDetails = new LinkedHashSet<>();\n\n    public DiseaseSummaryMap getTabularData() {\n        return tabularData;\n    }\n\n    public void setTabularData(DiseaseSummaryMap tabularData) {\n        this.tabularData = tabularData;\n    }\n\n    public void addTabularData(Map<String, Map<String, ConceptValue>> newTable){\n        for (String visitDate : newTable.keySet()) {\n            Map<String, ConceptValue> valuesForVisit = getValuesForVisit(visitDate);//tabularData.toString(visitDate);\n            valuesForVisit.putAll(newTable.get(visitDate));\n        }\n    }\n\n    private Map<String, ConceptValue> getValuesForVisit(String visitDate) {\n        Map<String, ConceptValue> valuesForVisit = tabularData.get(visitDate);\n        if( valuesForVisit == null){\n            valuesForVisit = new LinkedHashMap<>();\n            tabularData.put(visitDate,valuesForVisit);\n        }\n        return valuesForVisit;\n    }\n\n    public Set<ConceptDetails> getConceptDetails() {\n        return conceptDetails;\n    }\n\n    public void addConceptDetails(Set<ConceptDetails> conceptDetails) {\n        this.conceptDetails.addAll(conceptDetails);\n    }\n\n    public void concat(DiseaseSummaryData diseaseSummaryData){\n        addTabularData(diseaseSummaryData.getTabularData());\n        addConceptDetails(diseaseSummaryData.getConceptDetails());\n    }\n}",
        "package": "org.bahmni.module.bahmnicoreui.contract",
        "imports": [
          "org.bahmni.module.referencedata.contract.ConceptDetails",
          "java.util.LinkedHashMap",
          "java.util.LinkedHashSet",
          "java.util.Map",
          "java.util.Set"
        ],
        "annotations": [],
        "file_path": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/contract/DiseaseSummaryData.java"
      }
    },
    "Privilege": {
      "dependencies": [
        "String"
      ],
      "component_type": "unknown",
      "source": {
        "source_code": "class Privilege {\n    private String name;\n\n    public Privilege(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n}",
        "package": "org.bahmni.module.bahmnicoreui.contract",
        "imports": [],
        "annotations": [],
        "file_path": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/contract/Privilege.java"
      }
    },
    "DiseaseDataParams": {
      "dependencies": [
        "String",
        "List",
        "Date",
        "Integer"
      ],
      "component_type": "unknown",
      "source": {
        "source_code": "class DiseaseDataParams {\n\n    private Integer numberOfVisits;\n    private Integer initialCount;\n    private Integer latestCount;\n    private List<String> obsConcepts;\n    private List<String> drugConcepts;\n    private List<String> labConcepts;\n    private String groupBy;\n    private String visitUuid;\n    private Date startDate;\n    private Date endDate;\n\n    public Integer getNumberOfVisits() {\n        return numberOfVisits;\n    }\n\n    public void setNumberOfVisits(Integer numberOfVisits) {\n        this.numberOfVisits = numberOfVisits;\n    }\n\n    public Integer getLatestCount() {\n        return latestCount;\n    }\n\n    public void setLatestCount(Integer latestCount) {\n        this.latestCount = latestCount;\n    }\n\n    public Integer getInitialCount() {\n        return initialCount;\n    }\n\n    public void setInitialCount(Integer initialCount) {\n        this.initialCount = initialCount;\n    }\n\n    public List<String> getObsConcepts() {\n        return obsConcepts;\n    }\n\n    public void setObsConcepts(List<String> obsConcepts) {\n        this.obsConcepts = obsConcepts;\n    }\n\n    public List<String> getLabConcepts() {\n        return labConcepts;\n    }\n\n    public void setLabConcepts(List<String> labConcepts) {\n        this.labConcepts = labConcepts;\n    }\n\n    public List<String> getDrugConcepts() {\n        return drugConcepts;\n    }\n\n    public void setDrugConcepts(List<String> drugConcepts) {\n        this.drugConcepts = drugConcepts;\n    }\n\n    public String getGroupBy() {\n        return groupBy;\n    }\n\n    public void setGroupBy(String groupBy) {\n        this.groupBy = groupBy;\n    }\n\n    public String getVisitUuid() {\n        return visitUuid;\n    }\n\n    public void setVisitUuid(String visitUuid) {\n        this.visitUuid = visitUuid;\n    }\n\n    public Date getStartDate() {\n        return startDate;\n    }\n\n    public void setStartDate(Date startDate) {\n        this.startDate = startDate;\n    }\n\n    public Date getEndDate() {\n        return endDate;\n    }\n\n    public void setEndDate(Date endDate) {\n        this.endDate = endDate;\n    }\n}",
        "package": "org.bahmni.module.bahmnicoreui.contract",
        "imports": [
          "java.util.Date",
          "java.util.List"
        ],
        "annotations": [],
        "file_path": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/contract/DiseaseDataParams.java"
      }
    },
    "DiseaseSummaryMap": {
      "dependencies": [
        "Map",
        "MapUtils",
        "LinkedHashMap"
      ],
      "component_type": "unknown",
      "source": {
        "source_code": "class DiseaseSummaryMap extends LinkedHashMap<String, Map<String, ConceptValue>> {\n\n    public Map<String, ConceptValue> get(String visitStartDateTime) {\n        Map<String, ConceptValue> mapValue = super.get(visitStartDateTime);\n        if(MapUtils.isEmpty(mapValue)){\n            put(visitStartDateTime, new LinkedHashMap<String, ConceptValue>());\n        }\n        return super.get(visitStartDateTime);\n    }\n\n    public void put(String startDateTime, String conceptName, String value, Boolean abnormal, boolean replaceExisting) {\n        Map<String, ConceptValue> cellValue = this.get(startDateTime);\n        if (cellValue.containsKey(conceptName) && !replaceExisting) return;\n\n        ConceptValue conceptValue = new ConceptValue();\n        conceptValue.setValue(value);\n        conceptValue.setAbnormal(abnormal);\n        cellValue.put(conceptName, conceptValue);\n        super.put(startDateTime, cellValue);\n    }\n}",
        "package": "org.bahmni.module.bahmnicoreui.contract",
        "imports": [
          "org.apache.commons.collections.MapUtils",
          "java.util.LinkedHashMap",
          "java.util.Map"
        ],
        "annotations": [],
        "file_path": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/contract/DiseaseSummaryMap.java"
      }
    },
    "ConceptValue": {
      "dependencies": [
        "String",
        "Boolean"
      ],
      "component_type": "unknown",
      "source": {
        "source_code": "class ConceptValue {\n    private String value;\n\n    private Boolean abnormal;\n\n    public Boolean getAbnormal() {\n        return abnormal;\n    }\n\n    public void setAbnormal(Boolean abnormal) {\n        this.abnormal = abnormal;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n\n}",
        "package": "org.bahmni.module.bahmnicoreui.contract",
        "imports": [],
        "annotations": [],
        "file_path": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/contract/ConceptValue.java"
      }
    },
    "DoseInstructionMapper": {
      "dependencies": [
        "DrugOrder",
        "TypeReference",
        "JsonFactory",
        "Collections",
        "Map",
        "IOException",
        "ObjectMapper",
        "HashMap"
      ],
      "component_type": "unknown",
      "source": {
        "source_code": "class DoseInstructionMapper {\n\n    public static String getFrequency(DrugOrder drugOrder) throws IOException {\n        if (drugOrder.getFrequency() == null) {\n            String dosingInstructions = drugOrder.getDosingInstructions();\n            Map<String, Object> instructions = hashMapForJson(dosingInstructions);\n            return concat(\"-\", getEmptyIfNull(instructions.get(\"morningDose\")),\n                    getEmptyIfNull(instructions.get(\"afternoonDose\")),\n                    getEmptyIfNull(instructions.get(\"eveningDose\")));\n        }\n        return drugOrder.getFrequency().getName();\n    }\n\n    private static String getEmptyIfNull(Object text) {\n        return text == null ? \"\" : text.toString();\n    }\n\n    public static Map<String, Object> hashMapForJson(String dosingInstructions) throws IOException {\n        if (dosingInstructions == null || dosingInstructions.isEmpty()) {\n            return Collections.EMPTY_MAP;\n        }\n        ObjectMapper objectMapper = new ObjectMapper(new JsonFactory());\n        TypeReference<HashMap<String, Object>> typeRef\n                = new TypeReference<HashMap<String, Object>>() {\n        };\n        return objectMapper.readValue(dosingInstructions, typeRef);\n    }\n\n    public static String concat(String separator, String... values) {\n        StringBuilder stringBuilder = new StringBuilder();\n        for (String value : values) {\n            if (value != null && !value.isEmpty()) {\n                stringBuilder.append(separator).append(value);\n            }\n        }\n        return stringBuilder.length() > 1 ? stringBuilder.substring(1) : \"\";\n    }\n}",
        "package": "org.bahmni.module.bahmnicoreui.mapper",
        "imports": [
          "org.codehaus.jackson.JsonFactory",
          "org.codehaus.jackson.map.ObjectMapper",
          "org.codehaus.jackson.type.TypeReference",
          "org.openmrs.DrugOrder",
          "java.io.IOException",
          "java.util.Collections",
          "java.util.HashMap",
          "java.util.Map"
        ],
        "annotations": [],
        "file_path": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/mapper/DoseInstructionMapper.java"
      }
    },
    "DiseaseSummaryDrugOrderMapper": {
      "dependencies": [
        "DiseaseSummaryMap",
        "DiseaseSummaryConstants",
        "DateFormatUtils",
        "DrugOrder",
        "Logger",
        "List",
        "Concept",
        "LogManager",
        "IOException"
      ],
      "component_type": "unknown",
      "source": {
        "source_code": "class DiseaseSummaryDrugOrderMapper{\n\n    private Logger logger = LogManager.getLogger(this.getClass());\n\n    public DiseaseSummaryMap map(List<DrugOrder> drugOrders, String groupBy)  {\n        DiseaseSummaryMap diseaseSummaryMap = new DiseaseSummaryMap();\n        for (DrugOrder drugOrder : drugOrders) {\n            String startDateTime = (DiseaseSummaryConstants.RESULT_TABLE_GROUP_BY_ENCOUNTER.equals(groupBy)) ?\n                    DateFormatUtils.format(drugOrder.getEncounter().getEncounterDatetime(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern()) : DateFormatUtils.format(drugOrder.getEncounter().getVisit().getStartDatetime(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern());\n            String conceptName = drugOrder.getDrug().getConcept().getName().getName();\n            try {\n                diseaseSummaryMap.put(startDateTime, conceptName, formattedDrugOrderValue(drugOrder), null, false);\n            } catch (IOException e) {\n                logger.error(\"Could not parse dosing instructions\",e);\n                throw new RuntimeException(\"Could not parse dosing instructions\",e);\n            }\n        }\n        return diseaseSummaryMap;\n    }\n\n    private String formattedDrugOrderValue(DrugOrder drugOrder) throws IOException {\n        String strength = drugOrder.getDrug().getStrength();\n        Concept doseUnitsConcept = drugOrder.getDoseUnits();\n        String doseUnit = doseUnitsConcept == null ? \"\" : \" \" + doseUnitsConcept.getName().getName();\n        String dose = drugOrder.getDose() == null ? \"\" : drugOrder.getDose() + doseUnit;\n        String frequency = DoseInstructionMapper.getFrequency(drugOrder);\n        String asNeeded = drugOrder.getAsNeeded() ? \"SOS\" : null;\n        return DoseInstructionMapper.concat(\",\", strength, dose, frequency, asNeeded);\n    }\n}",
        "package": "org.bahmni.module.bahmnicoreui.mapper",
        "imports": [
          "org.apache.commons.lang3.time.DateFormatUtils",
          "org.apache.logging.log4j.LogManager",
          "org.apache.logging.log4j.Logger",
          "org.bahmni.module.bahmnicoreui.constant.DiseaseSummaryConstants",
          "org.bahmni.module.bahmnicoreui.contract.DiseaseSummaryMap",
          "org.openmrs.Concept",
          "org.openmrs.DrugOrder",
          "java.io.IOException",
          "java.util.List"
        ],
        "annotations": [],
        "file_path": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/mapper/DiseaseSummaryDrugOrderMapper.java"
      }
    },
    "DiseaseSummaryObsMapper": {
      "dependencies": [
        "DiseaseSummaryMap",
        "DiseaseSummaryConstants",
        "DateFormatUtils",
        "Collection",
        "ETObsToBahmniObsMapper",
        "List",
        "LinkedHashMap",
        "Map",
        "ArrayList",
        "StringUtils",
        "CollectionUtils",
        "BahmniObservation"
      ],
      "component_type": "unknown",
      "source": {
        "source_code": "class DiseaseSummaryObsMapper {\n\n    public DiseaseSummaryMap map(Collection<BahmniObservation> bahmniObservations, String groupBy) {\n        DiseaseSummaryMap diseaseSummaryMap = new DiseaseSummaryMap();\n        bahmniObservations = extractGroupObservationFromParent(bahmniObservations);\n        if (CollectionUtils.isNotEmpty(bahmniObservations)) {\n            Map<String, List<BahmniObservation>> observationsByEncounter = groupObsByEncounterUuid(bahmniObservations);\n            for (BahmniObservation bahmniObservation : bahmniObservations) {\n                List<BahmniObservation> observationsFromConceptSet = new ArrayList<>();\n                constructLeafObservationsFromConceptSet(bahmniObservation, observationsFromConceptSet);\n                for (BahmniObservation leafObservation : observationsFromConceptSet) {\n                    String startDateTime = getGroupByDate(leafObservation, groupBy);\n                    String conceptName = leafObservation.getConcept().getShortName();\n                    String observationValue = computeValueForLeafObservation(leafObservation, observationsByEncounter, !DiseaseSummaryConstants.RESULT_TABLE_GROUP_BY_OBS_DATETIME_AND_CONCEPT.equals(groupBy));\n                    diseaseSummaryMap.put(startDateTime, conceptName, observationValue, leafObservation.isAbnormal(), false);\n                }\n            }\n        }\n        return diseaseSummaryMap;\n    }\n\n    private String getGroupByDate(BahmniObservation observation, String groupBy) {\n        switch (StringUtils.defaultString(groupBy)) {\n            case DiseaseSummaryConstants.RESULT_TABLE_GROUP_BY_ENCOUNTER: return DateFormatUtils.format(observation.getEncounterDateTime(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern());\n            case DiseaseSummaryConstants.RESULT_TABLE_GROUP_BY_OBS_DATETIME:\n            case DiseaseSummaryConstants.RESULT_TABLE_GROUP_BY_OBS_DATETIME_AND_CONCEPT:\n                return DateFormatUtils.format(observation.getObservationDateTime(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern());\n            default: return DateFormatUtils.format(observation.getVisitStartDateTime(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern());\n        }\n    }\n\n    private List<BahmniObservation> extractGroupObservationFromParent(Collection<BahmniObservation> bahmniObservations){\n        List<BahmniObservation> finalObservations = new ArrayList<>();\n        for (BahmniObservation bahmniObservation : bahmniObservations) {\n            constructLeafObservationsFromConceptSet(bahmniObservation, finalObservations);\n        }\n        return finalObservations;\n    }\n\n    private Map<String, List<BahmniObservation>> groupObsByEncounterUuid(Collection<BahmniObservation> bahmniObservations) {\n        Map<String,List<BahmniObservation>> result = new LinkedHashMap<>();\n        for (BahmniObservation bahmniObservation : bahmniObservations) {\n            List<BahmniObservation> bahmniObservationsForEncounter = result.get(bahmniObservation.getEncounterUuid()) == null?new ArrayList<BahmniObservation>():result.get(bahmniObservation.getEncounterUuid());\n            bahmniObservationsForEncounter.add(bahmniObservation);\n            result.put(bahmniObservation.getEncounterUuid(), bahmniObservationsForEncounter);\n        }\n        return result;\n    }\n\n    private void constructLeafObservationsFromConceptSet(BahmniObservation bahmniObservation, List<BahmniObservation> observationsFromConceptSet) {\n        if (bahmniObservation.getGroupMembers().size() > 0) {\n            for (BahmniObservation groupMember : bahmniObservation.getGroupMembers())\n                constructLeafObservationsFromConceptSet(groupMember, observationsFromConceptSet);\n        } else {\n            if (!ETObsToBahmniObsMapper.ABNORMAL_CONCEPT_CLASS.equals(bahmniObservation.getConcept().getConceptClass())) {\n                observationsFromConceptSet.add(bahmniObservation);\n            }\n        }\n    }\n\n    private String computeValueForLeafObservation(BahmniObservation observation, Map<String, List<BahmniObservation>> observationsByEncounter, boolean allowMultiValue) {\n        String observationValue = null;\n        if (observationsByEncounter.containsKey(observation.getEncounterUuid())) {\n            List<BahmniObservation> observationsInEncounter = observationsByEncounter.get(observation.getEncounterUuid());\n            String multiSelectObsValue = \"\";\n            for (BahmniObservation bahmniObservationInEncounter : observationsInEncounter) {\n                if ( allowMultiValue && arePartOfMultiSelectObservation(observation,bahmniObservationInEncounter) ) {\n                    multiSelectObsValue = multiSelectObsValue + \",\" + bahmniObservationInEncounter.getValueAsString();\n                }\n            }\n            observationValue = StringUtils.isBlank(multiSelectObsValue)? observation.getValueAsString(): observation.getValueAsString() + multiSelectObsValue;\n        }\n        return observationValue;\n    }\n\n    private boolean arePartOfMultiSelectObservation(BahmniObservation observation,BahmniObservation observationInEncounter){\n        return observation.getConcept().getName().equals(observationInEncounter.getConcept().getName())\n                && StringUtils.equals(observation.getObsGroupUuid(),observationInEncounter.getObsGroupUuid())\n                && !observation.getUuid().equals(observationInEncounter.getUuid());\n    }\n\n}",
        "package": "org.bahmni.module.bahmnicoreui.mapper",
        "imports": [
          "org.apache.commons.collections.CollectionUtils",
          "org.apache.commons.lang3.StringUtils",
          "org.apache.commons.lang3.time.DateFormatUtils",
          "org.bahmni.module.bahmnicoreui.constant.DiseaseSummaryConstants",
          "org.bahmni.module.bahmnicoreui.contract.DiseaseSummaryMap",
          "org.openmrs.module.bahmniemrapi.encountertransaction.contract.BahmniObservation",
          "org.openmrs.module.bahmniemrapi.encountertransaction.mapper.ETObsToBahmniObsMapper",
          "java.util.ArrayList",
          "java.util.Collection",
          "java.util.LinkedHashMap",
          "java.util.List",
          "java.util.Map"
        ],
        "annotations": [],
        "file_path": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/mapper/DiseaseSummaryObsMapper.java"
      }
    },
    "DiseaseSummaryLabMapper": {
      "dependencies": [
        "DiseaseSummaryMap",
        "DiseaseSummaryConstants",
        "DateFormatUtils",
        "LabOrderResult",
        "List"
      ],
      "component_type": "unknown",
      "source": {
        "source_code": "class DiseaseSummaryLabMapper {\n\n    public DiseaseSummaryMap map(List<LabOrderResult> labOrderResults, String groupBy) {\n        DiseaseSummaryMap diseaseSummaryMap = new DiseaseSummaryMap();\n        for (LabOrderResult labOrderResult : labOrderResults) {\n            String startDateTime = (DiseaseSummaryConstants.RESULT_TABLE_GROUP_BY_ENCOUNTER.equals(groupBy)) ?\n                    DateFormatUtils.format(labOrderResult.getAccessionDateTime(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern()) : DateFormatUtils.format(labOrderResult.getVisitStartTime(), DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern());\n            String conceptName = labOrderResult.getTestName();\n            if (conceptName != null) {\n                diseaseSummaryMap.put(startDateTime, conceptName, labOrderResult.getResult(), labOrderResult.getAbnormal(), true);\n            }\n        }\n        return diseaseSummaryMap;\n    }\n}",
        "package": "org.bahmni.module.bahmnicoreui.mapper",
        "imports": [
          "org.apache.commons.lang3.time.DateFormatUtils",
          "org.bahmni.module.bahmnicoreui.constant.DiseaseSummaryConstants",
          "org.bahmni.module.bahmnicoreui.contract.DiseaseSummaryMap",
          "org.openmrs.module.bahmniemrapi.laborder.contract.LabOrderResult",
          "java.util.List"
        ],
        "annotations": [],
        "file_path": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/mapper/DiseaseSummaryLabMapper.java"
      }
    },
    "DiseaseSummaryConstants": {
      "dependencies": [],
      "component_type": "unknown",
      "source": {
        "source_code": "class DiseaseSummaryConstants {\n\n    public static final String DATE_FORMAT = \"yyyy-MM-dd\";\n    public static final String DATE_TIME_FORMAT = \"yyyy-MM-dd HH:mm\";\n    public static final String RESULT_TABLE_GROUP_BY_ENCOUNTER = \"encounters\";\n    public static final String RESULT_TABLE_GROUP_BY_VISITS = \"visits\";\n    public static final String RESULT_TABLE_GROUP_BY_OBS_DATETIME = \"time\";\n    public static final String RESULT_TABLE_GROUP_BY_OBS_DATETIME_AND_CONCEPT = \"obstime\";\n\n}",
        "package": "org.bahmni.module.bahmnicoreui.constant",
        "imports": [],
        "annotations": [],
        "file_path": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/constant/DiseaseSummaryConstants.java"
      }
    },
    "DrugOrderDiseaseSummaryAggregator": {
      "dependencies": [
        "BahmniConceptService",
        "DrugOrder",
        "VisitDao",
        "VisitService",
        "Visit",
        "DiseaseSummaryDrugOrderMapper",
        "DiseaseDataParams",
        "Component",
        "BahmniDrugOrderService",
        "Patient",
        "Concept",
        "Autowired",
        "List",
        "ArrayList",
        "DiseaseSummaryData",
        "StringUtils",
        "ConceptHelper"
      ],
      "component_type": "component",
      "source": {
        "source_code": "class DrugOrderDiseaseSummaryAggregator {\n\n    private final Integer DEFAULT_VISIT_NUMBER = 50;\n    private final VisitService visitService;\n    private BahmniDrugOrderService drugOrderService;\n    private ConceptHelper conceptHelper;\n    private VisitDao visitDao;\n    private BahmniConceptService bahmniConceptService;\n    private final DiseaseSummaryDrugOrderMapper diseaseSummaryDrugOrderMapper = new DiseaseSummaryDrugOrderMapper();\n\n    @Autowired\n    public DrugOrderDiseaseSummaryAggregator(ConceptHelper conceptHelper, VisitService visitService, BahmniDrugOrderService drugOrderService, VisitDao visitDao, BahmniConceptService bahmniConceptService) {\n        this.visitService = visitService;\n        this.drugOrderService = drugOrderService;\n        this.conceptHelper = conceptHelper;\n        this.bahmniConceptService = bahmniConceptService;\n        this.visitDao = visitDao;\n    }\n\n    public DiseaseSummaryData aggregate(Patient patient, DiseaseDataParams diseaseDataParams) {\n        DiseaseSummaryData diseaseSummaryData = new DiseaseSummaryData();\n        List<Concept> concepts = bahmniConceptService.getConceptsByFullySpecifiedName(diseaseDataParams.getDrugConcepts());\n        if (!concepts.isEmpty()) {\n            List<DrugOrder> drugOrders = drugOrderService.getPrescribedDrugOrdersForConcepts(patient, true, getVisits(patient, diseaseDataParams), concepts, diseaseDataParams.getStartDate(), diseaseDataParams.getEndDate() );\n            diseaseSummaryData.addTabularData(diseaseSummaryDrugOrderMapper.map(drugOrders, diseaseDataParams.getGroupBy()));\n            diseaseSummaryData.addConceptDetails(conceptHelper.getConceptDetails(concepts));\n        }\n        return diseaseSummaryData;\n    }\n\n    private List<Visit> getVisits(Patient patient, final DiseaseDataParams diseaseDataParams) {\n        if (StringUtils.isBlank(diseaseDataParams.getVisitUuid())) {\n            return visitDao.getVisitsByPatient(patient, getNumberOfVisits(diseaseDataParams.getNumberOfVisits()));\n        }\n        return new ArrayList() {{\n            add(visitService.getVisitByUuid(diseaseDataParams.getVisitUuid()));\n        }};\n    }\n\n    private int getNumberOfVisits(Integer numberOfVisit) {\n        return null != numberOfVisit ? numberOfVisit : DEFAULT_VISIT_NUMBER;\n    }\n}",
        "package": "org.bahmni.module.bahmnicoreui.helper",
        "imports": [
          "org.apache.commons.lang3.StringUtils",
          "org.bahmni.module.bahmnicore.dao.VisitDao",
          "org.bahmni.module.bahmnicore.service.BahmniConceptService",
          "org.bahmni.module.bahmnicore.service.BahmniDrugOrderService",
          "org.bahmni.module.bahmnicoreui.contract.DiseaseDataParams",
          "org.bahmni.module.bahmnicoreui.contract.DiseaseSummaryData",
          "org.bahmni.module.bahmnicoreui.mapper.DiseaseSummaryDrugOrderMapper",
          "org.bahmni.module.referencedata.helper.ConceptHelper",
          "org.openmrs.Concept",
          "org.openmrs.DrugOrder",
          "org.openmrs.Patient",
          "org.openmrs.Visit",
          "org.openmrs.api.VisitService",
          "org.springframework.beans.factory.annotation.Autowired",
          "org.springframework.stereotype.Component",
          "java.util.ArrayList",
          "java.util.List"
        ],
        "annotations": [
          "@Component"
        ],
        "file_path": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/helper/DrugOrderDiseaseSummaryAggregator.java"
      }
    },
    "LabDiseaseSummaryAggregator": {
      "dependencies": [
        "BahmniConceptService",
        "LabOrderResultsService",
        "LabOrderResult",
        "VisitDao",
        "VisitService",
        "Visit",
        "Component",
        "DiseaseDataParams",
        "Patient",
        "List",
        "Concept",
        "DiseaseSummaryLabMapper",
        "ConceptDetails",
        "Autowired",
        "ArrayList",
        "DiseaseSummaryData",
        "StringUtils",
        "ConceptHelper"
      ],
      "component_type": "component",
      "source": {
        "source_code": "class LabDiseaseSummaryAggregator {\n\n    private final Integer DEFAULT_VISIT_NUMBER = 50;\n    private final ConceptHelper conceptHelper;\n    private LabOrderResultsService labOrderResultsService;\n    private VisitService visitService;\n    private VisitDao visitDao;\n    private BahmniConceptService bahmniConceptService;\n    private final DiseaseSummaryLabMapper diseaseSummaryLabMapper = new DiseaseSummaryLabMapper();\n\n\n    @Autowired\n    public LabDiseaseSummaryAggregator(ConceptHelper conceptHelper, LabOrderResultsService labOrderResultsService, VisitService visitService, VisitDao visitDao,BahmniConceptService bahmniConceptService) {\n        this.labOrderResultsService = labOrderResultsService;\n        this.visitService = visitService;\n        this.conceptHelper = conceptHelper;\n        this.visitDao = visitDao;\n        this.bahmniConceptService = bahmniConceptService;\n    }\n\n    public DiseaseSummaryData aggregate(Patient patient, DiseaseDataParams diseaseDataParams) {\n        DiseaseSummaryData diseaseSummaryData =  new DiseaseSummaryData();\n        List<Concept> concepts = bahmniConceptService.getConceptsByFullySpecifiedName(diseaseDataParams.getLabConcepts());\n        if(!concepts.isEmpty()){\n            List<LabOrderResult> labOrderResults = labOrderResultsService.getAllForConcepts(patient, diseaseDataParams.getLabConcepts(), getVisits(patient, diseaseDataParams), diseaseDataParams.getStartDate(), diseaseDataParams.getEndDate());\n            diseaseSummaryData.addTabularData(diseaseSummaryLabMapper.map(labOrderResults, diseaseDataParams.getGroupBy()));\n            diseaseSummaryData.addConceptDetails(conceptHelper.getLeafConceptDetails(concepts, false));\n            mapLowNormalAndHiNormal(diseaseSummaryData, labOrderResults);\n        }\n        return diseaseSummaryData;\n    }\n\n    private void mapLowNormalAndHiNormal(DiseaseSummaryData diseaseSummaryData, List<LabOrderResult> labOrderResults) {\n        for (ConceptDetails conceptDetails : diseaseSummaryData.getConceptDetails()) {\n            LabOrderResult labOrderResult = findLabOrder(conceptDetails.getName(), labOrderResults);\n            if (labOrderResult!= null){\n                conceptDetails.setHiNormal(labOrderResult.getMaxNormal());\n                conceptDetails.setLowNormal(labOrderResult.getMinNormal());\n                conceptDetails.setUnits(labOrderResult.getTestUnitOfMeasurement() != null ? labOrderResult.getTestUnitOfMeasurement() : conceptDetails.getUnits());\n            }\n        }\n\n    }\n\n    private LabOrderResult findLabOrder(String name, List<LabOrderResult> labOrderResults) {\n        for (LabOrderResult labOrderResult : labOrderResults) {\n            if(labOrderResult.getTestName().equals(name)){\n                return labOrderResult;\n            }\n        }\n        return null;\n    }\n\n    private List<Visit> getVisits(Patient patient, final DiseaseDataParams diseaseDataParams) {\n        if(StringUtils.isBlank(diseaseDataParams.getVisitUuid())){\n            return visitDao.getVisitsByPatient(patient, getNumberOfVisits(diseaseDataParams.getNumberOfVisits()));\n        }\n        return new ArrayList() {{\n            add(visitService.getVisitByUuid(diseaseDataParams.getVisitUuid()));\n        }};\n    }\n\n    private int getNumberOfVisits(Integer numberOfVisit) {\n        return null != numberOfVisit ? numberOfVisit : DEFAULT_VISIT_NUMBER;\n    }\n\n}",
        "package": "org.bahmni.module.bahmnicoreui.helper",
        "imports": [
          "org.apache.commons.lang3.StringUtils",
          "org.bahmni.module.bahmnicore.dao.VisitDao",
          "org.bahmni.module.bahmnicore.service.BahmniConceptService",
          "org.bahmni.module.bahmnicoreui.contract.DiseaseDataParams",
          "org.bahmni.module.bahmnicoreui.contract.DiseaseSummaryData",
          "org.bahmni.module.bahmnicoreui.mapper.DiseaseSummaryLabMapper",
          "org.bahmni.module.referencedata.contract.ConceptDetails",
          "org.bahmni.module.referencedata.helper.ConceptHelper",
          "org.openmrs.Concept",
          "org.openmrs.Patient",
          "org.openmrs.Visit",
          "org.openmrs.api.VisitService",
          "org.openmrs.module.bahmniemrapi.laborder.contract.LabOrderResult",
          "org.openmrs.module.bahmniemrapi.laborder.service.LabOrderResultsService",
          "org.springframework.beans.factory.annotation.Autowired",
          "org.springframework.stereotype.Component",
          "java.util.ArrayList",
          "java.util.List"
        ],
        "annotations": [
          "@Component"
        ],
        "file_path": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/helper/LabDiseaseSummaryAggregator.java"
      }
    },
    "ObsDiseaseSummaryAggregator": {
      "dependencies": [
        "BahmniConceptService",
        "Component",
        "DiseaseDataParams",
        "BahmniObsService",
        "Predicate",
        "Obs",
        "Patient",
        "Collection",
        "Concept",
        "DiseaseSummaryObsMapper",
        "Autowired",
        "Collections",
        "List",
        "DiseaseSummaryData",
        "StringUtils",
        "CollectionUtils",
        "BahmniObservation",
        "ConceptHelper"
      ],
      "component_type": "component",
      "source": {
        "source_code": "class ObsDiseaseSummaryAggregator {\n\n    private final ConceptHelper conceptHelper;\n    private BahmniObsService bahmniObsService;\n    private BahmniConceptService bahmniConceptService;\n    private final DiseaseSummaryObsMapper diseaseSummaryObsMapper = new DiseaseSummaryObsMapper();\n\n    @Autowired\n    public ObsDiseaseSummaryAggregator(ConceptHelper conceptHelper, BahmniObsService bahmniObsService, BahmniConceptService bahmniConceptService) {\n        this.bahmniObsService = bahmniObsService;\n        this.conceptHelper = conceptHelper;\n        this.bahmniConceptService = bahmniConceptService;\n    }\n\n    public DiseaseSummaryData aggregate(Patient patient, DiseaseDataParams queryParams) {\n        DiseaseSummaryData diseaseSummaryData = new DiseaseSummaryData();\n        List<Concept> concepts = bahmniConceptService.getConceptsByFullySpecifiedName(queryParams.getObsConcepts());\n        Collection<BahmniObservation> bahmniObservations = fetchBahmniObservations(patient, queryParams, concepts);\n        bahmniObservations.forEach(bahmniObservation -> bahmniObservation.setAbnormal((bahmniObservation.getInterpretation() != null && bahmniObservation.getInterpretation().equals(String.valueOf(Obs.Interpretation.ABNORMAL)))));\n        constructDiseaseSummaryData(bahmniObservations, concepts, queryParams.getGroupBy(), diseaseSummaryData);\n        return diseaseSummaryData;\n    }\n\n    private Collection<BahmniObservation> fetchBahmniObservations(Patient patient, DiseaseDataParams queryParams, List<Concept> concepts) {\n        if (StringUtils.isBlank(queryParams.getVisitUuid())) {\n            if (!concepts.isEmpty()) {\n                return bahmniObsService.observationsFor(patient.getUuid(), concepts, queryParams.getNumberOfVisits(), null, false, null, queryParams.getStartDate(), queryParams.getEndDate());\n            }\n            return Collections.EMPTY_LIST;\n        }\n        return filterObservationsLinkedWithOrders(bahmniObsService.getObservationForVisit(queryParams.getVisitUuid(), queryParams.getObsConcepts(), null,  false, null));\n    }\n\n    private Collection<BahmniObservation> filterObservationsLinkedWithOrders(Collection<BahmniObservation> bahmniObservations) {\n        CollectionUtils.filter(bahmniObservations,new Predicate() {\n            @Override\n            public boolean evaluate(Object bahmniObservation) {\n                return ((BahmniObservation)bahmniObservation).getOrderUuid() == null;\n            }\n        });\n        return bahmniObservations;\n    }\n\n    private void constructDiseaseSummaryData(Collection<BahmniObservation> bahmniObservations, List<Concept> concepts, String groupBy, DiseaseSummaryData diseaseSummaryData) {\n        diseaseSummaryData.setTabularData(diseaseSummaryObsMapper.map(bahmniObservations, groupBy));\n        diseaseSummaryData.addConceptDetails(conceptHelper.getLeafConceptDetails(concepts, false));\n    }\n}",
        "package": "org.bahmni.module.bahmnicoreui.helper",
        "imports": [
          "org.apache.commons.collections.CollectionUtils",
          "org.apache.commons.collections.Predicate",
          "org.apache.commons.lang3.StringUtils",
          "org.bahmni.module.bahmnicore.service.BahmniConceptService",
          "org.bahmni.module.bahmnicore.service.BahmniObsService",
          "org.bahmni.module.bahmnicoreui.contract.DiseaseDataParams",
          "org.bahmni.module.bahmnicoreui.contract.DiseaseSummaryData",
          "org.bahmni.module.bahmnicoreui.mapper.DiseaseSummaryObsMapper",
          "org.bahmni.module.referencedata.helper.ConceptHelper",
          "org.openmrs.Concept",
          "org.openmrs.Obs",
          "org.openmrs.Patient",
          "org.openmrs.module.bahmniemrapi.encountertransaction.contract.BahmniObservation",
          "org.springframework.beans.factory.annotation.Autowired",
          "org.springframework.stereotype.Component",
          "java.util.Collection",
          "java.util.Collections",
          "java.util.List"
        ],
        "annotations": [
          "@Component"
        ],
        "file_path": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/helper/ObsDiseaseSummaryAggregator.java"
      }
    },
    "BahmniDiseaseSummaryServiceImpl": {
      "dependencies": [
        "DrugOrderDiseaseSummaryAggregator",
        "ParseException",
        "DiseaseSummaryMap",
        "List",
        "DiseaseSummaryData",
        "Set",
        "Collections",
        "Autowired",
        "ArrayList",
        "Service",
        "Patient",
        "DateUtils",
        "Transactional",
        "PatientService",
        "Comparator",
        "DateFormatUtils",
        "ObsDiseaseSummaryAggregator",
        "Date",
        "DiseaseDataParams",
        "LabDiseaseSummaryAggregator",
        "BahmniDiseaseSummaryService"
      ],
      "component_type": "service",
      "source": {
        "source_code": "class BahmniDiseaseSummaryServiceImpl implements BahmniDiseaseSummaryService {\n\n    private PatientService patientService;\n    private LabDiseaseSummaryAggregator labDiseaseSummaryAggregator;\n    private DrugOrderDiseaseSummaryAggregator drugOrderDiseaseSummaryAggregator;\n    private ObsDiseaseSummaryAggregator obsDiseaseSummaryAggregator;\n\n    @Autowired\n    public BahmniDiseaseSummaryServiceImpl(PatientService patientService, LabDiseaseSummaryAggregator labDiseaseSummaryAggregator, DrugOrderDiseaseSummaryAggregator drugOrderDiseaseSummaryAggregator, ObsDiseaseSummaryAggregator obsDiseaseSummaryAggregator){\n        this.patientService = patientService;\n        this.labDiseaseSummaryAggregator = labDiseaseSummaryAggregator;\n        this.drugOrderDiseaseSummaryAggregator = drugOrderDiseaseSummaryAggregator;\n        this.obsDiseaseSummaryAggregator = obsDiseaseSummaryAggregator;\n    }\n\n    @Override\n    @Transactional(readOnly = true)\n    public DiseaseSummaryData getDiseaseSummary(String patientUuid, DiseaseDataParams queryParams) {\n        DiseaseSummaryData diseaseSummaryData = new DiseaseSummaryData();\n\n        Patient patient = patientService.getPatientByUuid(patientUuid);\n\n        diseaseSummaryData.concat(obsDiseaseSummaryAggregator.aggregate(patient, queryParams));\n        diseaseSummaryData.concat(labDiseaseSummaryAggregator.aggregate(patient, queryParams));\n        diseaseSummaryData.concat(drugOrderDiseaseSummaryAggregator.aggregate(patient, queryParams));\n        diseaseSummaryData.setTabularData(filterDataByCount(diseaseSummaryData.getTabularData(), queryParams.getInitialCount(), queryParams.getLatestCount()));\n        return diseaseSummaryData;\n    }\n\n    private DiseaseSummaryMap filterDataByCount(DiseaseSummaryMap diseaseSummaryMap, Integer initialCount, Integer latestCount) {\n        if(initialCount == null && latestCount == null) return filter(diseaseSummaryMap, 0, diseaseSummaryMap.size());\n        DiseaseSummaryMap summaryMap = new DiseaseSummaryMap();\n        summaryMap.putAll(filter(diseaseSummaryMap, 0, getIntegerValue(latestCount)));\n        summaryMap.putAll(filter(diseaseSummaryMap, diseaseSummaryMap.size() - getIntegerValue(initialCount), diseaseSummaryMap.size()));\n\n        return summaryMap;\n    }\n\n    private DiseaseSummaryMap filter(DiseaseSummaryMap diseaseSummaryMap, int fromIndex, int toIndex) {\n        DiseaseSummaryMap summaryMap = new DiseaseSummaryMap();\n        fromIndex = (fromIndex > diseaseSummaryMap.size() || fromIndex < 0) ? 0 : fromIndex;\n        toIndex = (toIndex > diseaseSummaryMap.size()) ? diseaseSummaryMap.size() : toIndex;\n\n        List<String> summaryMapKeys = sortByDate(diseaseSummaryMap.keySet());\n        for(int index=fromIndex; index<toIndex; index++) {\n            String visitStartDateTime = summaryMapKeys.get(index);\n            summaryMap.put(visitStartDateTime, diseaseSummaryMap.get(visitStartDateTime));\n        }\n        return summaryMap;\n    }\n\n    private List<String> sortByDate(Set<String> dataSet) {\n        List<String> sortedList = new ArrayList<>(dataSet);\n        Collections.sort(sortedList, new Comparator<String>() {\n            public int compare(String o1, String o2) {\n                return convertToDate(o2).compareTo(convertToDate(o1));\n            }\n        });\n        return sortedList;\n    }\n\n    private Date convertToDate(String dateString) {\n        Date startDate = null;\n        try {\n            startDate = DateUtils.parseDate(dateString, DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.getPattern());\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n        return startDate;\n    }\n\n    private int getIntegerValue(Integer value) {\n        if(value == null) return 0;\n        return value;\n    }\n}",
        "package": "org.bahmni.module.bahmnicoreui.service.impl",
        "imports": [
          "org.apache.commons.lang3.time.DateFormatUtils",
          "org.apache.commons.lang3.time.DateUtils",
          "org.bahmni.module.bahmnicoreui.contract.DiseaseDataParams",
          "org.bahmni.module.bahmnicoreui.contract.DiseaseSummaryData",
          "org.bahmni.module.bahmnicoreui.contract.DiseaseSummaryMap",
          "org.bahmni.module.bahmnicoreui.helper.DrugOrderDiseaseSummaryAggregator",
          "org.bahmni.module.bahmnicoreui.helper.LabDiseaseSummaryAggregator",
          "org.bahmni.module.bahmnicoreui.helper.ObsDiseaseSummaryAggregator",
          "org.bahmni.module.bahmnicoreui.service.BahmniDiseaseSummaryService",
          "org.openmrs.Patient",
          "org.openmrs.api.PatientService",
          "org.springframework.beans.factory.annotation.Autowired",
          "org.springframework.stereotype.Service",
          "org.springframework.transaction.annotation.Transactional",
          "java.text.ParseException",
          "java.util.ArrayList",
          "java.util.Collections",
          "java.util.Comparator",
          "java.util.Date",
          "java.util.List",
          "java.util.Set"
        ],
        "annotations": [
          "@Service"
        ],
        "file_path": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/service/impl/BahmniDiseaseSummaryServiceImpl.java"
      }
    }
  },
  "external_api_calls": [],
  "database_operations": [],
  "scheduled_tasks": [],
  "error_handling": [
    {
      "class": "DiseaseSummaryDrugOrderMapper",
      "method": "map",
      "exception_type": "IOException",
      "pattern": "try_catch"
    },
    {
      "class": "BahmniDiseaseSummaryServiceImpl",
      "method": "getDiseaseSummary",
      "exception_type": "ParseException",
      "pattern": "try_catch"
    },
    {
      "class": "BahmniDiseaseSummaryServiceImpl",
      "method": "filterDataByCount",
      "exception_type": "ParseException",
      "pattern": "try_catch"
    },
    {
      "class": "BahmniDiseaseSummaryServiceImpl",
      "method": "filter",
      "exception_type": "ParseException",
      "pattern": "try_catch"
    },
    {
      "class": "BahmniDiseaseSummaryServiceImpl",
      "method": "sortByDate",
      "exception_type": "ParseException",
      "pattern": "try_catch"
    },
    {
      "class": "BahmniDiseaseSummaryServiceImpl",
      "method": "convertToDate",
      "exception_type": "ParseException",
      "pattern": "try_catch"
    }
  ],
  "configuration_usage": [],
  "class_to_file_mapping": {
    "DiseaseSummaryData": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/contract/DiseaseSummaryData.java",
    "Privilege": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/contract/Privilege.java",
    "DiseaseDataParams": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/contract/DiseaseDataParams.java",
    "DiseaseSummaryMap": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/contract/DiseaseSummaryMap.java",
    "ConceptValue": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/contract/ConceptValue.java",
    "DoseInstructionMapper": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/mapper/DoseInstructionMapper.java",
    "DiseaseSummaryDrugOrderMapper": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/mapper/DiseaseSummaryDrugOrderMapper.java",
    "DiseaseSummaryObsMapper": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/mapper/DiseaseSummaryObsMapper.java",
    "DiseaseSummaryLabMapper": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/mapper/DiseaseSummaryLabMapper.java",
    "DiseaseSummaryConstants": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/constant/DiseaseSummaryConstants.java",
    "DrugOrderDiseaseSummaryAggregator": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/helper/DrugOrderDiseaseSummaryAggregator.java",
    "LabDiseaseSummaryAggregator": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/helper/LabDiseaseSummaryAggregator.java",
    "ObsDiseaseSummaryAggregator": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/helper/ObsDiseaseSummaryAggregator.java",
    "BahmniDiseaseSummaryServiceImpl": "/Users/home/Desktop/new/CodeMind-/project/bahmni-core-master/bahmnicore-ui/src/main/java/org/bahmni/module/bahmnicoreui/service/impl/BahmniDiseaseSummaryServiceImpl.java"
  }
}